{"version":3,"file":"/js/dart.js","mappings":"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","sources":["webpack:///./node_modules/nosleep.js/src/index.js","webpack:///./node_modules/nosleep.js/src/media.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///./node_modules/luxon/src/errors.js","webpack:///./node_modules/luxon/src/zone.js","webpack:///./node_modules/luxon/src/zones/IANAZone.js","webpack:///./node_modules/luxon/src/impl/util.js","webpack:///./node_modules/luxon/src/zones/fixedOffsetZone.js","webpack:///./node_modules/luxon/src/impl/regexParser.js","webpack:///./node_modules/luxon/src/duration.js","webpack:///./node_modules/luxon/src/impl/digits.js","webpack:///./node_modules/luxon/src/impl/tokenParser.js","webpack:///./resources/js/utils.js","webpack:///./node_modules/d3-selection/src/selector.js","webpack:///./node_modules/d3-selection/src/array.js","webpack:///./node_modules/d3-selection/src/selectorAll.js","webpack:///./node_modules/d3-selection/src/matcher.js","webpack:///./node_modules/d3-selection/src/selection/selectChild.js","webpack:///./node_modules/d3-selection/src/selection/selectChildren.js","webpack:///./node_modules/d3-selection/src/selection/sparse.js","webpack:///./node_modules/d3-selection/src/selection/enter.js","webpack:///./node_modules/d3-selection/src/constant.js","webpack:///./node_modules/d3-selection/src/selection/data.js","webpack:///./node_modules/d3-selection/src/selection/sort.js","webpack:///./node_modules/d3-selection/src/namespaces.js","webpack:///./node_modules/d3-selection/src/namespace.js","webpack:///./node_modules/d3-selection/src/selection/attr.js","webpack:///./node_modules/d3-selection/src/window.js","webpack:///./node_modules/d3-selection/src/selection/style.js","webpack:///./node_modules/d3-selection/src/selection/property.js","webpack:///./node_modules/d3-selection/src/selection/classed.js","webpack:///./node_modules/d3-selection/src/selection/text.js","webpack:///./node_modules/d3-selection/src/selection/html.js","webpack:///./node_modules/d3-selection/src/selection/raise.js","webpack:///./node_modules/d3-selection/src/selection/lower.js","webpack:///./node_modules/d3-selection/src/creator.js","webpack:///./node_modules/d3-selection/src/selection/insert.js","webpack:///./node_modules/d3-selection/src/selection/remove.js","webpack:///./node_modules/d3-selection/src/selection/clone.js","webpack:///./node_modules/d3-selection/src/selection/on.js","webpack:///./node_modules/d3-selection/src/selection/dispatch.js","webpack:///./node_modules/d3-selection/src/selection/index.js","webpack:///./node_modules/d3-selection/src/selection/select.js","webpack:///./node_modules/d3-selection/src/selection/selectAll.js","webpack:///./node_modules/d3-selection/src/selection/filter.js","webpack:///./node_modules/d3-selection/src/selection/exit.js","webpack:///./node_modules/d3-selection/src/selection/join.js","webpack:///./node_modules/d3-selection/src/selection/merge.js","webpack:///./node_modules/d3-selection/src/selection/order.js","webpack:///./node_modules/d3-selection/src/selection/call.js","webpack:///./node_modules/d3-selection/src/selection/nodes.js","webpack:///./node_modules/d3-selection/src/selection/node.js","webpack:///./node_modules/d3-selection/src/selection/size.js","webpack:///./node_modules/d3-selection/src/selection/empty.js","webpack:///./node_modules/d3-selection/src/selection/each.js","webpack:///./node_modules/d3-selection/src/selection/append.js","webpack:///./node_modules/d3-selection/src/selection/datum.js","webpack:///./node_modules/d3-selection/src/selection/iterator.js","webpack:///./node_modules/d3-dispatch/src/dispatch.js","webpack:///./node_modules/d3-timer/src/timer.js","webpack:///./node_modules/d3-timer/src/timeout.js","webpack:///./node_modules/d3-transition/src/transition/schedule.js","webpack:///./node_modules/d3-interpolate/src/number.js","webpack:///./node_modules/d3-interpolate/src/transform/decompose.js","webpack:///./node_modules/d3-interpolate/src/transform/parse.js","webpack:///./node_modules/d3-interpolate/src/transform/index.js","webpack:///./node_modules/d3-transition/src/transition/tween.js","webpack:///./node_modules/d3-color/src/define.js","webpack:///./node_modules/d3-color/src/color.js","webpack:///./node_modules/d3-interpolate/src/basis.js","webpack:///./node_modules/d3-interpolate/src/constant.js","webpack:///./node_modules/d3-interpolate/src/color.js","webpack:///./node_modules/d3-interpolate/src/rgb.js","webpack:///./node_modules/d3-interpolate/src/basisClosed.js","webpack:///./node_modules/d3-interpolate/src/string.js","webpack:///./node_modules/d3-transition/src/transition/interpolate.js","webpack:///./node_modules/d3-transition/src/transition/attr.js","webpack:///./node_modules/d3-transition/src/transition/attrTween.js","webpack:///./node_modules/d3-transition/src/transition/delay.js","webpack:///./node_modules/d3-transition/src/transition/duration.js","webpack:///./node_modules/d3-transition/src/transition/ease.js","webpack:///./node_modules/d3-transition/src/transition/on.js","webpack:///./node_modules/d3-transition/src/transition/selection.js","webpack:///./node_modules/d3-transition/src/transition/style.js","webpack:///./node_modules/d3-transition/src/transition/styleTween.js","webpack:///./node_modules/d3-transition/src/transition/textTween.js","webpack:///./node_modules/d3-transition/src/transition/index.js","webpack:///./node_modules/d3-transition/src/transition/select.js","webpack:///./node_modules/d3-transition/src/transition/selectAll.js","webpack:///./node_modules/d3-transition/src/transition/filter.js","webpack:///./node_modules/d3-transition/src/transition/merge.js","webpack:///./node_modules/d3-transition/src/transition/transition.js","webpack:///./node_modules/d3-transition/src/transition/text.js","webpack:///./node_modules/d3-transition/src/transition/remove.js","webpack:///./node_modules/d3-transition/src/transition/easeVarying.js","webpack:///./node_modules/d3-transition/src/transition/end.js","webpack:///./node_modules/d3-transition/src/selection/transition.js","webpack:///./node_modules/d3-ease/src/cubic.js","webpack:///./node_modules/d3-transition/src/selection/index.js","webpack:///./node_modules/d3-transition/src/selection/interrupt.js","webpack:///./node_modules/d3-transition/src/interrupt.js","webpack:///./node_modules/d3-brush/src/brush.js","webpack:///./node_modules/d3-selection/src/select.js","webpack:///./node_modules/d3-shape/src/constant.js","webpack:///./node_modules/d3-shape/src/math.js","webpack:///./node_modules/d3-path/src/path.js","webpack:///./node_modules/d3-shape/src/arc.js","webpack:///./node_modules/d3-shape/src/path.js","webpack:///./node_modules/d3-shape/src/array.js","webpack:///./node_modules/d3-shape/src/descending.js","webpack:///./node_modules/d3-shape/src/identity.js","webpack:///./node_modules/d3-zoom/src/transform.js","webpack:///./resources/js/dart/hit.js","webpack:///./resources/js/dart/dartboard.js","webpack:///./node_modules/d3-shape/src/pie.js","webpack:///./resources/js/dart/throw.js","webpack:///./resources/js/dart/player.js","webpack:///./resources/js/dart/playerList.js","webpack:///./resources/js/dart/enums/gameType.js","webpack:///./resources/js/dart/gameSettings.js","webpack:///./resources/js/dart/game.js","webpack:///./resources/js/dart/gameX01.js","webpack:///./resources/js/dart/dart.js","webpack:///./resources/js/dart.js"],"sourcesContent":["const { webm, mp4 } = require(\"./media.js\");\n\n// Detect iOS browsers < version 10\nconst oldIOS = () =>\n  typeof navigator !== \"undefined\" &&\n  parseFloat(\n    (\n      \"\" +\n      (/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(\n        navigator.userAgent\n      ) || [0, \"\"])[1]\n    )\n      .replace(\"undefined\", \"3_2\")\n      .replace(\"_\", \".\")\n      .replace(\"_\", \"\")\n  ) < 10 &&\n  !window.MSStream;\n\n// Detect native Wake Lock API support\nconst nativeWakeLock = () => \"wakeLock\" in navigator;\n\nclass NoSleep {\n  constructor() {\n    this.enabled = false;\n    if (nativeWakeLock()) {\n      this._wakeLock = null;\n      const handleVisibilityChange = () => {\n        if (this._wakeLock !== null && document.visibilityState === \"visible\") {\n          this.enable();\n        }\n      };\n      document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n      document.addEventListener(\"fullscreenchange\", handleVisibilityChange);\n    } else if (oldIOS()) {\n      this.noSleepTimer = null;\n    } else {\n      // Set up no sleep video element\n      this.noSleepVideo = document.createElement(\"video\");\n\n      this.noSleepVideo.setAttribute(\"title\", \"No Sleep\");\n      this.noSleepVideo.setAttribute(\"playsinline\", \"\");\n\n      this._addSourceToVideo(this.noSleepVideo, \"webm\", webm);\n      this._addSourceToVideo(this.noSleepVideo, \"mp4\", mp4);\n\n      this.noSleepVideo.addEventListener(\"loadedmetadata\", () => {\n        if (this.noSleepVideo.duration <= 1) {\n          // webm source\n          this.noSleepVideo.setAttribute(\"loop\", \"\");\n        } else {\n          // mp4 source\n          this.noSleepVideo.addEventListener(\"timeupdate\", () => {\n            if (this.noSleepVideo.currentTime > 0.5) {\n              this.noSleepVideo.currentTime = Math.random();\n            }\n          });\n        }\n      });\n    }\n  }\n\n  _addSourceToVideo(element, type, dataURI) {\n    var source = document.createElement(\"source\");\n    source.src = dataURI;\n    source.type = `video/${type}`;\n    element.appendChild(source);\n  }\n\n  get isEnabled() {\n    return this.enabled;\n  }\n\n  enable() {\n    if (nativeWakeLock()) {\n      return navigator.wakeLock\n        .request(\"screen\")\n        .then((wakeLock) => {\n          this._wakeLock = wakeLock;\n          this.enabled = true;\n          console.log(\"Wake Lock active.\");\n          this._wakeLock.addEventListener(\"release\", () => {\n            // ToDo: Potentially emit an event for the page to observe since\n            // Wake Lock releases happen when page visibility changes.\n            // (https://web.dev/wakelock/#wake-lock-lifecycle)\n            console.log(\"Wake Lock released.\");\n          });\n        })\n        .catch((err) => {\n          this.enabled = false;\n          console.error(`${err.name}, ${err.message}`);\n          throw err;\n        });\n    } else if (oldIOS()) {\n      this.disable();\n      console.warn(`\n        NoSleep enabled for older iOS devices. This can interrupt\n        active or long-running network requests from completing successfully.\n        See https://github.com/richtr/NoSleep.js/issues/15 for more details.\n      `);\n      this.noSleepTimer = window.setInterval(() => {\n        if (!document.hidden) {\n          window.location.href = window.location.href.split(\"#\")[0];\n          window.setTimeout(window.stop, 0);\n        }\n      }, 15000);\n      this.enabled = true;\n      return Promise.resolve();\n    } else {\n      let playPromise = this.noSleepVideo.play();\n      return playPromise\n        .then((res) => {\n          this.enabled = true;\n          return res;\n        })\n        .catch((err) => {\n          this.enabled = false;\n          throw err;\n        });\n    }\n  }\n\n  disable() {\n    if (nativeWakeLock()) {\n      if (this._wakeLock) {\n        this._wakeLock.release();\n      }\n      this._wakeLock = null;\n    } else if (oldIOS()) {\n      if (this.noSleepTimer) {\n        console.warn(`\n          NoSleep now disabled for older iOS devices.\n        `);\n        window.clearInterval(this.noSleepTimer);\n        this.noSleepTimer = null;\n      }\n    } else {\n      this.noSleepVideo.pause();\n    }\n    this.enabled = false;\n  }\n}\n\nmodule.exports = NoSleep;\n","module.exports = {\n  webm:\n    \"data:video/webm;base64,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\",\n  mp4:\n    \"data:video/mp4;base64,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\",\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// these aren't really private, but nor are they really useful to document\n\n/**\n * @private\n */\nclass LuxonError extends Error {}\n\n/**\n * @private\n */\nexport class InvalidDateTimeError extends LuxonError {\n  constructor(reason) {\n    super(`Invalid DateTime: ${reason.toMessage()}`);\n  }\n}\n\n/**\n * @private\n */\nexport class InvalidIntervalError extends LuxonError {\n  constructor(reason) {\n    super(`Invalid Interval: ${reason.toMessage()}`);\n  }\n}\n\n/**\n * @private\n */\nexport class InvalidDurationError extends LuxonError {\n  constructor(reason) {\n    super(`Invalid Duration: ${reason.toMessage()}`);\n  }\n}\n\n/**\n * @private\n */\nexport class ConflictingSpecificationError extends LuxonError {}\n\n/**\n * @private\n */\nexport class InvalidUnitError extends LuxonError {\n  constructor(unit) {\n    super(`Invalid unit ${unit}`);\n  }\n}\n\n/**\n * @private\n */\nexport class InvalidArgumentError extends LuxonError {}\n\n/**\n * @private\n */\nexport class ZoneIsAbstractError extends LuxonError {\n  constructor() {\n    super(\"Zone is an abstract class\");\n  }\n}\n","import { ZoneIsAbstractError } from \"./errors.js\";\n\n/**\n * @interface\n */\nexport default class Zone {\n  /**\n   * The type of zone\n   * @abstract\n   * @type {string}\n   */\n  get type() {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * The name of this zone.\n   * @abstract\n   * @type {string}\n   */\n  get name() {\n    throw new ZoneIsAbstractError();\n  }\n\n  get ianaName() {\n    return this.name;\n  }\n\n  /**\n   * Returns whether the offset is known to be fixed for the whole year.\n   * @abstract\n   * @type {boolean}\n   */\n  get isUniversal() {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * Returns the offset's common name (such as EST) at the specified timestamp\n   * @abstract\n   * @param {number} ts - Epoch milliseconds for which to get the name\n   * @param {Object} opts - Options to affect the format\n   * @param {string} opts.format - What style of offset to return. Accepts 'long' or 'short'.\n   * @param {string} opts.locale - What locale to return the offset name in.\n   * @return {string}\n   */\n  offsetName(ts, opts) {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * Returns the offset's value as a string\n   * @abstract\n   * @param {number} ts - Epoch milliseconds for which to get the offset\n   * @param {string} format - What style of offset to return.\n   *                          Accepts 'narrow', 'short', or 'techie'. Returning '+6', '+06:00', or '+0600' respectively\n   * @return {string}\n   */\n  formatOffset(ts, format) {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * Return the offset in minutes for this zone at the specified timestamp.\n   * @abstract\n   * @param {number} ts - Epoch milliseconds for which to compute the offset\n   * @return {number}\n   */\n  offset(ts) {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * Return whether this Zone is equal to another zone\n   * @abstract\n   * @param {Zone} otherZone - the zone to compare\n   * @return {boolean}\n   */\n  equals(otherZone) {\n    throw new ZoneIsAbstractError();\n  }\n\n  /**\n   * Return whether this Zone is valid.\n   * @abstract\n   * @type {boolean}\n   */\n  get isValid() {\n    throw new ZoneIsAbstractError();\n  }\n}\n","import { formatOffset, parseZoneInfo, isUndefined, objToLocalTS } from \"../impl/util.js\";\nimport Zone from \"../zone.js\";\n\nlet dtfCache = {};\nfunction makeDTF(zone) {\n  if (!dtfCache[zone]) {\n    dtfCache[zone] = new Intl.DateTimeFormat(\"en-US\", {\n      hour12: false,\n      timeZone: zone,\n      year: \"numeric\",\n      month: \"2-digit\",\n      day: \"2-digit\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n      second: \"2-digit\",\n      era: \"short\",\n    });\n  }\n  return dtfCache[zone];\n}\n\nconst typeToPos = {\n  year: 0,\n  month: 1,\n  day: 2,\n  era: 3,\n  hour: 4,\n  minute: 5,\n  second: 6,\n};\n\nfunction hackyOffset(dtf, date) {\n  const formatted = dtf.format(date).replace(/\\u200E/g, \"\"),\n    parsed = /(\\d+)\\/(\\d+)\\/(\\d+) (AD|BC),? (\\d+):(\\d+):(\\d+)/.exec(formatted),\n    [, fMonth, fDay, fYear, fadOrBc, fHour, fMinute, fSecond] = parsed;\n  return [fYear, fMonth, fDay, fadOrBc, fHour, fMinute, fSecond];\n}\n\nfunction partsOffset(dtf, date) {\n  const formatted = dtf.formatToParts(date);\n  const filled = [];\n  for (let i = 0; i < formatted.length; i++) {\n    const { type, value } = formatted[i];\n    const pos = typeToPos[type];\n\n    if (type === \"era\") {\n      filled[pos] = value;\n    } else if (!isUndefined(pos)) {\n      filled[pos] = parseInt(value, 10);\n    }\n  }\n  return filled;\n}\n\nlet ianaZoneCache = {};\n/**\n * A zone identified by an IANA identifier, like America/New_York\n * @implements {Zone}\n */\nexport default class IANAZone extends Zone {\n  /**\n   * @param {string} name - Zone name\n   * @return {IANAZone}\n   */\n  static create(name) {\n    if (!ianaZoneCache[name]) {\n      ianaZoneCache[name] = new IANAZone(name);\n    }\n    return ianaZoneCache[name];\n  }\n\n  /**\n   * Reset local caches. Should only be necessary in testing scenarios.\n   * @return {void}\n   */\n  static resetCache() {\n    ianaZoneCache = {};\n    dtfCache = {};\n  }\n\n  /**\n   * Returns whether the provided string is a valid specifier. This only checks the string's format, not that the specifier identifies a known zone; see isValidZone for that.\n   * @param {string} s - The string to check validity on\n   * @example IANAZone.isValidSpecifier(\"America/New_York\") //=> true\n   * @example IANAZone.isValidSpecifier(\"Sport~~blorp\") //=> false\n   * @deprecated This method returns false for some valid IANA names. Use isValidZone instead.\n   * @return {boolean}\n   */\n  static isValidSpecifier(s) {\n    return this.isValidZone(s);\n  }\n\n  /**\n   * Returns whether the provided string identifies a real zone\n   * @param {string} zone - The string to check\n   * @example IANAZone.isValidZone(\"America/New_York\") //=> true\n   * @example IANAZone.isValidZone(\"Fantasia/Castle\") //=> false\n   * @example IANAZone.isValidZone(\"Sport~~blorp\") //=> false\n   * @return {boolean}\n   */\n  static isValidZone(zone) {\n    if (!zone) {\n      return false;\n    }\n    try {\n      new Intl.DateTimeFormat(\"en-US\", { timeZone: zone }).format();\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  constructor(name) {\n    super();\n    /** @private **/\n    this.zoneName = name;\n    /** @private **/\n    this.valid = IANAZone.isValidZone(name);\n  }\n\n  /** @override **/\n  get type() {\n    return \"iana\";\n  }\n\n  /** @override **/\n  get name() {\n    return this.zoneName;\n  }\n\n  /** @override **/\n  get isUniversal() {\n    return false;\n  }\n\n  /** @override **/\n  offsetName(ts, { format, locale }) {\n    return parseZoneInfo(ts, format, locale, this.name);\n  }\n\n  /** @override **/\n  formatOffset(ts, format) {\n    return formatOffset(this.offset(ts), format);\n  }\n\n  /** @override **/\n  offset(ts) {\n    const date = new Date(ts);\n\n    if (isNaN(date)) return NaN;\n\n    const dtf = makeDTF(this.name);\n    let [year, month, day, adOrBc, hour, minute, second] = dtf.formatToParts\n      ? partsOffset(dtf, date)\n      : hackyOffset(dtf, date);\n\n    if (adOrBc === \"BC\") {\n      year = -Math.abs(year) + 1;\n    }\n\n    // because we're using hour12 and https://bugs.chromium.org/p/chromium/issues/detail?id=1025564&can=2&q=%2224%3A00%22%20datetimeformat\n    const adjustedHour = hour === 24 ? 0 : hour;\n\n    const asUTC = objToLocalTS({\n      year,\n      month,\n      day,\n      hour: adjustedHour,\n      minute,\n      second,\n      millisecond: 0,\n    });\n\n    let asTS = +date;\n    const over = asTS % 1000;\n    asTS -= over >= 0 ? over : 1000 + over;\n    return (asUTC - asTS) / (60 * 1000);\n  }\n\n  /** @override **/\n  equals(otherZone) {\n    return otherZone.type === \"iana\" && otherZone.name === this.name;\n  }\n\n  /** @override **/\n  get isValid() {\n    return this.valid;\n  }\n}\n","/*\n  This is just a junk drawer, containing anything used across multiple classes.\n  Because Luxon is small(ish), this should stay small and we won't worry about splitting\n  it up into, say, parsingUtil.js and basicUtil.js and so on. But they are divided up by feature area.\n*/\n\nimport { InvalidArgumentError } from \"../errors.js\";\nimport Settings from \"../settings.js\";\n\n/**\n * @private\n */\n\n// TYPES\n\nexport function isUndefined(o) {\n  return typeof o === \"undefined\";\n}\n\nexport function isNumber(o) {\n  return typeof o === \"number\";\n}\n\nexport function isInteger(o) {\n  return typeof o === \"number\" && o % 1 === 0;\n}\n\nexport function isString(o) {\n  return typeof o === \"string\";\n}\n\nexport function isDate(o) {\n  return Object.prototype.toString.call(o) === \"[object Date]\";\n}\n\n// CAPABILITIES\n\nexport function hasRelative() {\n  try {\n    return typeof Intl !== \"undefined\" && !!Intl.RelativeTimeFormat;\n  } catch (e) {\n    return false;\n  }\n}\n\n// OBJECTS AND ARRAYS\n\nexport function maybeArray(thing) {\n  return Array.isArray(thing) ? thing : [thing];\n}\n\nexport function bestBy(arr, by, compare) {\n  if (arr.length === 0) {\n    return undefined;\n  }\n  return arr.reduce((best, next) => {\n    const pair = [by(next), next];\n    if (!best) {\n      return pair;\n    } else if (compare(best[0], pair[0]) === best[0]) {\n      return best;\n    } else {\n      return pair;\n    }\n  }, null)[1];\n}\n\nexport function pick(obj, keys) {\n  return keys.reduce((a, k) => {\n    a[k] = obj[k];\n    return a;\n  }, {});\n}\n\nexport function hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n// NUMBERS AND STRINGS\n\nexport function integerBetween(thing, bottom, top) {\n  return isInteger(thing) && thing >= bottom && thing <= top;\n}\n\n// x % n but takes the sign of n instead of x\nexport function floorMod(x, n) {\n  return x - n * Math.floor(x / n);\n}\n\nexport function padStart(input, n = 2) {\n  const isNeg = input < 0;\n  let padded;\n  if (isNeg) {\n    padded = \"-\" + (\"\" + -input).padStart(n, \"0\");\n  } else {\n    padded = (\"\" + input).padStart(n, \"0\");\n  }\n  return padded;\n}\n\nexport function parseInteger(string) {\n  if (isUndefined(string) || string === null || string === \"\") {\n    return undefined;\n  } else {\n    return parseInt(string, 10);\n  }\n}\n\nexport function parseFloating(string) {\n  if (isUndefined(string) || string === null || string === \"\") {\n    return undefined;\n  } else {\n    return parseFloat(string);\n  }\n}\n\nexport function parseMillis(fraction) {\n  // Return undefined (instead of 0) in these cases, where fraction is not set\n  if (isUndefined(fraction) || fraction === null || fraction === \"\") {\n    return undefined;\n  } else {\n    const f = parseFloat(\"0.\" + fraction) * 1000;\n    return Math.floor(f);\n  }\n}\n\nexport function roundTo(number, digits, towardZero = false) {\n  const factor = 10 ** digits,\n    rounder = towardZero ? Math.trunc : Math.round;\n  return rounder(number * factor) / factor;\n}\n\n// DATE BASICS\n\nexport function isLeapYear(year) {\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\n\nexport function daysInYear(year) {\n  return isLeapYear(year) ? 366 : 365;\n}\n\nexport function daysInMonth(year, month) {\n  const modMonth = floorMod(month - 1, 12) + 1,\n    modYear = year + (month - modMonth) / 12;\n\n  if (modMonth === 2) {\n    return isLeapYear(modYear) ? 29 : 28;\n  } else {\n    return [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][modMonth - 1];\n  }\n}\n\n// covert a calendar object to a local timestamp (epoch, but with the offset baked in)\nexport function objToLocalTS(obj) {\n  let d = Date.UTC(\n    obj.year,\n    obj.month - 1,\n    obj.day,\n    obj.hour,\n    obj.minute,\n    obj.second,\n    obj.millisecond\n  );\n\n  // for legacy reasons, years between 0 and 99 are interpreted as 19XX; revert that\n  if (obj.year < 100 && obj.year >= 0) {\n    d = new Date(d);\n    d.setUTCFullYear(d.getUTCFullYear() - 1900);\n  }\n  return +d;\n}\n\nexport function weeksInWeekYear(weekYear) {\n  const p1 =\n      (weekYear +\n        Math.floor(weekYear / 4) -\n        Math.floor(weekYear / 100) +\n        Math.floor(weekYear / 400)) %\n      7,\n    last = weekYear - 1,\n    p2 = (last + Math.floor(last / 4) - Math.floor(last / 100) + Math.floor(last / 400)) % 7;\n  return p1 === 4 || p2 === 3 ? 53 : 52;\n}\n\nexport function untruncateYear(year) {\n  if (year > 99) {\n    return year;\n  } else return year > Settings.twoDigitCutoffYear ? 1900 + year : 2000 + year;\n}\n\n// PARSING\n\nexport function parseZoneInfo(ts, offsetFormat, locale, timeZone = null) {\n  const date = new Date(ts),\n    intlOpts = {\n      hourCycle: \"h23\",\n      year: \"numeric\",\n      month: \"2-digit\",\n      day: \"2-digit\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    };\n\n  if (timeZone) {\n    intlOpts.timeZone = timeZone;\n  }\n\n  const modified = { timeZoneName: offsetFormat, ...intlOpts };\n\n  const parsed = new Intl.DateTimeFormat(locale, modified)\n    .formatToParts(date)\n    .find((m) => m.type.toLowerCase() === \"timezonename\");\n  return parsed ? parsed.value : null;\n}\n\n// signedOffset('-5', '30') -> -330\nexport function signedOffset(offHourStr, offMinuteStr) {\n  let offHour = parseInt(offHourStr, 10);\n\n  // don't || this because we want to preserve -0\n  if (Number.isNaN(offHour)) {\n    offHour = 0;\n  }\n\n  const offMin = parseInt(offMinuteStr, 10) || 0,\n    offMinSigned = offHour < 0 || Object.is(offHour, -0) ? -offMin : offMin;\n  return offHour * 60 + offMinSigned;\n}\n\n// COERCION\n\nexport function asNumber(value) {\n  const numericValue = Number(value);\n  if (typeof value === \"boolean\" || value === \"\" || Number.isNaN(numericValue))\n    throw new InvalidArgumentError(`Invalid unit value ${value}`);\n  return numericValue;\n}\n\nexport function normalizeObject(obj, normalizer) {\n  const normalized = {};\n  for (const u in obj) {\n    if (hasOwnProperty(obj, u)) {\n      const v = obj[u];\n      if (v === undefined || v === null) continue;\n      normalized[normalizer(u)] = asNumber(v);\n    }\n  }\n  return normalized;\n}\n\nexport function formatOffset(offset, format) {\n  const hours = Math.trunc(Math.abs(offset / 60)),\n    minutes = Math.trunc(Math.abs(offset % 60)),\n    sign = offset >= 0 ? \"+\" : \"-\";\n\n  switch (format) {\n    case \"short\":\n      return `${sign}${padStart(hours, 2)}:${padStart(minutes, 2)}`;\n    case \"narrow\":\n      return `${sign}${hours}${minutes > 0 ? `:${minutes}` : \"\"}`;\n    case \"techie\":\n      return `${sign}${padStart(hours, 2)}${padStart(minutes, 2)}`;\n    default:\n      throw new RangeError(`Value format ${format} is out of range for property format`);\n  }\n}\n\nexport function timeObject(obj) {\n  return pick(obj, [\"hour\", \"minute\", \"second\", \"millisecond\"]);\n}\n","import { formatOffset, signedOffset } from \"../impl/util.js\";\nimport Zone from \"../zone.js\";\n\nlet singleton = null;\n\n/**\n * A zone with a fixed offset (meaning no DST)\n * @implements {Zone}\n */\nexport default class FixedOffsetZone extends Zone {\n  /**\n   * Get a singleton instance of UTC\n   * @return {FixedOffsetZone}\n   */\n  static get utcInstance() {\n    if (singleton === null) {\n      singleton = new FixedOffsetZone(0);\n    }\n    return singleton;\n  }\n\n  /**\n   * Get an instance with a specified offset\n   * @param {number} offset - The offset in minutes\n   * @return {FixedOffsetZone}\n   */\n  static instance(offset) {\n    return offset === 0 ? FixedOffsetZone.utcInstance : new FixedOffsetZone(offset);\n  }\n\n  /**\n   * Get an instance of FixedOffsetZone from a UTC offset string, like \"UTC+6\"\n   * @param {string} s - The offset string to parse\n   * @example FixedOffsetZone.parseSpecifier(\"UTC+6\")\n   * @example FixedOffsetZone.parseSpecifier(\"UTC+06\")\n   * @example FixedOffsetZone.parseSpecifier(\"UTC-6:00\")\n   * @return {FixedOffsetZone}\n   */\n  static parseSpecifier(s) {\n    if (s) {\n      const r = s.match(/^utc(?:([+-]\\d{1,2})(?::(\\d{2}))?)?$/i);\n      if (r) {\n        return new FixedOffsetZone(signedOffset(r[1], r[2]));\n      }\n    }\n    return null;\n  }\n\n  constructor(offset) {\n    super();\n    /** @private **/\n    this.fixed = offset;\n  }\n\n  /** @override **/\n  get type() {\n    return \"fixed\";\n  }\n\n  /** @override **/\n  get name() {\n    return this.fixed === 0 ? \"UTC\" : `UTC${formatOffset(this.fixed, \"narrow\")}`;\n  }\n\n  get ianaName() {\n    if (this.fixed === 0) {\n      return \"Etc/UTC\";\n    } else {\n      return `Etc/GMT${formatOffset(-this.fixed, \"narrow\")}`;\n    }\n  }\n\n  /** @override **/\n  offsetName() {\n    return this.name;\n  }\n\n  /** @override **/\n  formatOffset(ts, format) {\n    return formatOffset(this.fixed, format);\n  }\n\n  /** @override **/\n  get isUniversal() {\n    return true;\n  }\n\n  /** @override **/\n  offset() {\n    return this.fixed;\n  }\n\n  /** @override **/\n  equals(otherZone) {\n    return otherZone.type === \"fixed\" && otherZone.fixed === this.fixed;\n  }\n\n  /** @override **/\n  get isValid() {\n    return true;\n  }\n}\n","import {\n  untruncateYear,\n  signedOffset,\n  parseInteger,\n  parseMillis,\n  isUndefined,\n  parseFloating,\n} from \"./util.js\";\nimport * as English from \"./english.js\";\nimport FixedOffsetZone from \"../zones/fixedOffsetZone.js\";\nimport IANAZone from \"../zones/IANAZone.js\";\n\n/*\n * This file handles parsing for well-specified formats. Here's how it works:\n * Two things go into parsing: a regex to match with and an extractor to take apart the groups in the match.\n * An extractor is just a function that takes a regex match array and returns a { year: ..., month: ... } object\n * parse() does the work of executing the regex and applying the extractor. It takes multiple regex/extractor pairs to try in sequence.\n * Extractors can take a \"cursor\" representing the offset in the match to look at. This makes it easy to combine extractors.\n * combineExtractors() does the work of combining them, keeping track of the cursor through multiple extractions.\n * Some extractions are super dumb and simpleParse and fromStrings help DRY them.\n */\n\nconst ianaRegex = /[A-Za-z_+-]{1,256}(?::?\\/[A-Za-z0-9_+-]{1,256}(?:\\/[A-Za-z0-9_+-]{1,256})?)?/;\n\nfunction combineRegexes(...regexes) {\n  const full = regexes.reduce((f, r) => f + r.source, \"\");\n  return RegExp(`^${full}$`);\n}\n\nfunction combineExtractors(...extractors) {\n  return (m) =>\n    extractors\n      .reduce(\n        ([mergedVals, mergedZone, cursor], ex) => {\n          const [val, zone, next] = ex(m, cursor);\n          return [{ ...mergedVals, ...val }, zone || mergedZone, next];\n        },\n        [{}, null, 1]\n      )\n      .slice(0, 2);\n}\n\nfunction parse(s, ...patterns) {\n  if (s == null) {\n    return [null, null];\n  }\n\n  for (const [regex, extractor] of patterns) {\n    const m = regex.exec(s);\n    if (m) {\n      return extractor(m);\n    }\n  }\n  return [null, null];\n}\n\nfunction simpleParse(...keys) {\n  return (match, cursor) => {\n    const ret = {};\n    let i;\n\n    for (i = 0; i < keys.length; i++) {\n      ret[keys[i]] = parseInteger(match[cursor + i]);\n    }\n    return [ret, null, cursor + i];\n  };\n}\n\n// ISO and SQL parsing\nconst offsetRegex = /(?:(Z)|([+-]\\d\\d)(?::?(\\d\\d))?)/;\nconst isoExtendedZone = `(?:${offsetRegex.source}?(?:\\\\[(${ianaRegex.source})\\\\])?)?`;\nconst isoTimeBaseRegex = /(\\d\\d)(?::?(\\d\\d)(?::?(\\d\\d)(?:[.,](\\d{1,30}))?)?)?/;\nconst isoTimeRegex = RegExp(`${isoTimeBaseRegex.source}${isoExtendedZone}`);\nconst isoTimeExtensionRegex = RegExp(`(?:T${isoTimeRegex.source})?`);\nconst isoYmdRegex = /([+-]\\d{6}|\\d{4})(?:-?(\\d\\d)(?:-?(\\d\\d))?)?/;\nconst isoWeekRegex = /(\\d{4})-?W(\\d\\d)(?:-?(\\d))?/;\nconst isoOrdinalRegex = /(\\d{4})-?(\\d{3})/;\nconst extractISOWeekData = simpleParse(\"weekYear\", \"weekNumber\", \"weekDay\");\nconst extractISOOrdinalData = simpleParse(\"year\", \"ordinal\");\nconst sqlYmdRegex = /(\\d{4})-(\\d\\d)-(\\d\\d)/; // dumbed-down version of the ISO one\nconst sqlTimeRegex = RegExp(\n  `${isoTimeBaseRegex.source} ?(?:${offsetRegex.source}|(${ianaRegex.source}))?`\n);\nconst sqlTimeExtensionRegex = RegExp(`(?: ${sqlTimeRegex.source})?`);\n\nfunction int(match, pos, fallback) {\n  const m = match[pos];\n  return isUndefined(m) ? fallback : parseInteger(m);\n}\n\nfunction extractISOYmd(match, cursor) {\n  const item = {\n    year: int(match, cursor),\n    month: int(match, cursor + 1, 1),\n    day: int(match, cursor + 2, 1),\n  };\n\n  return [item, null, cursor + 3];\n}\n\nfunction extractISOTime(match, cursor) {\n  const item = {\n    hours: int(match, cursor, 0),\n    minutes: int(match, cursor + 1, 0),\n    seconds: int(match, cursor + 2, 0),\n    milliseconds: parseMillis(match[cursor + 3]),\n  };\n\n  return [item, null, cursor + 4];\n}\n\nfunction extractISOOffset(match, cursor) {\n  const local = !match[cursor] && !match[cursor + 1],\n    fullOffset = signedOffset(match[cursor + 1], match[cursor + 2]),\n    zone = local ? null : FixedOffsetZone.instance(fullOffset);\n  return [{}, zone, cursor + 3];\n}\n\nfunction extractIANAZone(match, cursor) {\n  const zone = match[cursor] ? IANAZone.create(match[cursor]) : null;\n  return [{}, zone, cursor + 1];\n}\n\n// ISO time parsing\n\nconst isoTimeOnly = RegExp(`^T?${isoTimeBaseRegex.source}$`);\n\n// ISO duration parsing\n\nconst isoDuration =\n  /^-?P(?:(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)Y)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)W)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)D)?(?:T(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)H)?(?:(-?\\d{1,20}(?:\\.\\d{1,20})?)M)?(?:(-?\\d{1,20})(?:[.,](-?\\d{1,20}))?S)?)?)$/;\n\nfunction extractISODuration(match) {\n  const [s, yearStr, monthStr, weekStr, dayStr, hourStr, minuteStr, secondStr, millisecondsStr] =\n    match;\n\n  const hasNegativePrefix = s[0] === \"-\";\n  const negativeSeconds = secondStr && secondStr[0] === \"-\";\n\n  const maybeNegate = (num, force = false) =>\n    num !== undefined && (force || (num && hasNegativePrefix)) ? -num : num;\n\n  return [\n    {\n      years: maybeNegate(parseFloating(yearStr)),\n      months: maybeNegate(parseFloating(monthStr)),\n      weeks: maybeNegate(parseFloating(weekStr)),\n      days: maybeNegate(parseFloating(dayStr)),\n      hours: maybeNegate(parseFloating(hourStr)),\n      minutes: maybeNegate(parseFloating(minuteStr)),\n      seconds: maybeNegate(parseFloating(secondStr), secondStr === \"-0\"),\n      milliseconds: maybeNegate(parseMillis(millisecondsStr), negativeSeconds),\n    },\n  ];\n}\n\n// These are a little braindead. EDT *should* tell us that we're in, say, America/New_York\n// and not just that we're in -240 *right now*. But since I don't think these are used that often\n// I'm just going to ignore that\nconst obsOffsets = {\n  GMT: 0,\n  EDT: -4 * 60,\n  EST: -5 * 60,\n  CDT: -5 * 60,\n  CST: -6 * 60,\n  MDT: -6 * 60,\n  MST: -7 * 60,\n  PDT: -7 * 60,\n  PST: -8 * 60,\n};\n\nfunction fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {\n  const result = {\n    year: yearStr.length === 2 ? untruncateYear(parseInteger(yearStr)) : parseInteger(yearStr),\n    month: English.monthsShort.indexOf(monthStr) + 1,\n    day: parseInteger(dayStr),\n    hour: parseInteger(hourStr),\n    minute: parseInteger(minuteStr),\n  };\n\n  if (secondStr) result.second = parseInteger(secondStr);\n  if (weekdayStr) {\n    result.weekday =\n      weekdayStr.length > 3\n        ? English.weekdaysLong.indexOf(weekdayStr) + 1\n        : English.weekdaysShort.indexOf(weekdayStr) + 1;\n  }\n\n  return result;\n}\n\n// RFC 2822/5322\nconst rfc2822 =\n  /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\\d\\d)(\\d\\d)))$/;\n\nfunction extractRFC2822(match) {\n  const [\n      ,\n      weekdayStr,\n      dayStr,\n      monthStr,\n      yearStr,\n      hourStr,\n      minuteStr,\n      secondStr,\n      obsOffset,\n      milOffset,\n      offHourStr,\n      offMinuteStr,\n    ] = match,\n    result = fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr);\n\n  let offset;\n  if (obsOffset) {\n    offset = obsOffsets[obsOffset];\n  } else if (milOffset) {\n    offset = 0;\n  } else {\n    offset = signedOffset(offHourStr, offMinuteStr);\n  }\n\n  return [result, new FixedOffsetZone(offset)];\n}\n\nfunction preprocessRFC2822(s) {\n  // Remove comments and folding whitespace and replace multiple-spaces with a single space\n  return s\n    .replace(/\\([^()]*\\)|[\\n\\t]/g, \" \")\n    .replace(/(\\s\\s+)/g, \" \")\n    .trim();\n}\n\n// http date\n\nconst rfc1123 =\n    /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\\d\\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\\d{4}) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,\n  rfc850 =\n    /^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\\d\\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) GMT$/,\n  ascii =\n    /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \\d|\\d\\d) (\\d\\d):(\\d\\d):(\\d\\d) (\\d{4})$/;\n\nfunction extractRFC1123Or850(match) {\n  const [, weekdayStr, dayStr, monthStr, yearStr, hourStr, minuteStr, secondStr] = match,\n    result = fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr);\n  return [result, FixedOffsetZone.utcInstance];\n}\n\nfunction extractASCII(match) {\n  const [, weekdayStr, monthStr, dayStr, hourStr, minuteStr, secondStr, yearStr] = match,\n    result = fromStrings(weekdayStr, yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr);\n  return [result, FixedOffsetZone.utcInstance];\n}\n\nconst isoYmdWithTimeExtensionRegex = combineRegexes(isoYmdRegex, isoTimeExtensionRegex);\nconst isoWeekWithTimeExtensionRegex = combineRegexes(isoWeekRegex, isoTimeExtensionRegex);\nconst isoOrdinalWithTimeExtensionRegex = combineRegexes(isoOrdinalRegex, isoTimeExtensionRegex);\nconst isoTimeCombinedRegex = combineRegexes(isoTimeRegex);\n\nconst extractISOYmdTimeAndOffset = combineExtractors(\n  extractISOYmd,\n  extractISOTime,\n  extractISOOffset,\n  extractIANAZone\n);\nconst extractISOWeekTimeAndOffset = combineExtractors(\n  extractISOWeekData,\n  extractISOTime,\n  extractISOOffset,\n  extractIANAZone\n);\nconst extractISOOrdinalDateAndTime = combineExtractors(\n  extractISOOrdinalData,\n  extractISOTime,\n  extractISOOffset,\n  extractIANAZone\n);\nconst extractISOTimeAndOffset = combineExtractors(\n  extractISOTime,\n  extractISOOffset,\n  extractIANAZone\n);\n\n/*\n * @private\n */\n\nexport function parseISODate(s) {\n  return parse(\n    s,\n    [isoYmdWithTimeExtensionRegex, extractISOYmdTimeAndOffset],\n    [isoWeekWithTimeExtensionRegex, extractISOWeekTimeAndOffset],\n    [isoOrdinalWithTimeExtensionRegex, extractISOOrdinalDateAndTime],\n    [isoTimeCombinedRegex, extractISOTimeAndOffset]\n  );\n}\n\nexport function parseRFC2822Date(s) {\n  return parse(preprocessRFC2822(s), [rfc2822, extractRFC2822]);\n}\n\nexport function parseHTTPDate(s) {\n  return parse(\n    s,\n    [rfc1123, extractRFC1123Or850],\n    [rfc850, extractRFC1123Or850],\n    [ascii, extractASCII]\n  );\n}\n\nexport function parseISODuration(s) {\n  return parse(s, [isoDuration, extractISODuration]);\n}\n\nconst extractISOTimeOnly = combineExtractors(extractISOTime);\n\nexport function parseISOTimeOnly(s) {\n  return parse(s, [isoTimeOnly, extractISOTimeOnly]);\n}\n\nconst sqlYmdWithTimeExtensionRegex = combineRegexes(sqlYmdRegex, sqlTimeExtensionRegex);\nconst sqlTimeCombinedRegex = combineRegexes(sqlTimeRegex);\n\nconst extractISOTimeOffsetAndIANAZone = combineExtractors(\n  extractISOTime,\n  extractISOOffset,\n  extractIANAZone\n);\n\nexport function parseSQL(s) {\n  return parse(\n    s,\n    [sqlYmdWithTimeExtensionRegex, extractISOYmdTimeAndOffset],\n    [sqlTimeCombinedRegex, extractISOTimeOffsetAndIANAZone]\n  );\n}\n","import { InvalidArgumentError, InvalidDurationError, InvalidUnitError } from \"./errors.js\";\nimport Formatter from \"./impl/formatter.js\";\nimport Invalid from \"./impl/invalid.js\";\nimport Locale from \"./impl/locale.js\";\nimport { parseISODuration, parseISOTimeOnly } from \"./impl/regexParser.js\";\nimport {\n  asNumber,\n  hasOwnProperty,\n  isNumber,\n  isUndefined,\n  normalizeObject,\n  roundTo,\n} from \"./impl/util.js\";\nimport Settings from \"./settings.js\";\n\nconst INVALID = \"Invalid Duration\";\n\n// unit conversion constants\nexport const lowOrderMatrix = {\n    weeks: {\n      days: 7,\n      hours: 7 * 24,\n      minutes: 7 * 24 * 60,\n      seconds: 7 * 24 * 60 * 60,\n      milliseconds: 7 * 24 * 60 * 60 * 1000,\n    },\n    days: {\n      hours: 24,\n      minutes: 24 * 60,\n      seconds: 24 * 60 * 60,\n      milliseconds: 24 * 60 * 60 * 1000,\n    },\n    hours: { minutes: 60, seconds: 60 * 60, milliseconds: 60 * 60 * 1000 },\n    minutes: { seconds: 60, milliseconds: 60 * 1000 },\n    seconds: { milliseconds: 1000 },\n  },\n  casualMatrix = {\n    years: {\n      quarters: 4,\n      months: 12,\n      weeks: 52,\n      days: 365,\n      hours: 365 * 24,\n      minutes: 365 * 24 * 60,\n      seconds: 365 * 24 * 60 * 60,\n      milliseconds: 365 * 24 * 60 * 60 * 1000,\n    },\n    quarters: {\n      months: 3,\n      weeks: 13,\n      days: 91,\n      hours: 91 * 24,\n      minutes: 91 * 24 * 60,\n      seconds: 91 * 24 * 60 * 60,\n      milliseconds: 91 * 24 * 60 * 60 * 1000,\n    },\n    months: {\n      weeks: 4,\n      days: 30,\n      hours: 30 * 24,\n      minutes: 30 * 24 * 60,\n      seconds: 30 * 24 * 60 * 60,\n      milliseconds: 30 * 24 * 60 * 60 * 1000,\n    },\n\n    ...lowOrderMatrix,\n  },\n  daysInYearAccurate = 146097.0 / 400,\n  daysInMonthAccurate = 146097.0 / 4800,\n  accurateMatrix = {\n    years: {\n      quarters: 4,\n      months: 12,\n      weeks: daysInYearAccurate / 7,\n      days: daysInYearAccurate,\n      hours: daysInYearAccurate * 24,\n      minutes: daysInYearAccurate * 24 * 60,\n      seconds: daysInYearAccurate * 24 * 60 * 60,\n      milliseconds: daysInYearAccurate * 24 * 60 * 60 * 1000,\n    },\n    quarters: {\n      months: 3,\n      weeks: daysInYearAccurate / 28,\n      days: daysInYearAccurate / 4,\n      hours: (daysInYearAccurate * 24) / 4,\n      minutes: (daysInYearAccurate * 24 * 60) / 4,\n      seconds: (daysInYearAccurate * 24 * 60 * 60) / 4,\n      milliseconds: (daysInYearAccurate * 24 * 60 * 60 * 1000) / 4,\n    },\n    months: {\n      weeks: daysInMonthAccurate / 7,\n      days: daysInMonthAccurate,\n      hours: daysInMonthAccurate * 24,\n      minutes: daysInMonthAccurate * 24 * 60,\n      seconds: daysInMonthAccurate * 24 * 60 * 60,\n      milliseconds: daysInMonthAccurate * 24 * 60 * 60 * 1000,\n    },\n    ...lowOrderMatrix,\n  };\n\n// units ordered by size\nconst orderedUnits = [\n  \"years\",\n  \"quarters\",\n  \"months\",\n  \"weeks\",\n  \"days\",\n  \"hours\",\n  \"minutes\",\n  \"seconds\",\n  \"milliseconds\",\n];\n\nconst reverseUnits = orderedUnits.slice(0).reverse();\n\n// clone really means \"create another instance just like this one, but with these changes\"\nfunction clone(dur, alts, clear = false) {\n  // deep merge for vals\n  const conf = {\n    values: clear ? alts.values : { ...dur.values, ...(alts.values || {}) },\n    loc: dur.loc.clone(alts.loc),\n    conversionAccuracy: alts.conversionAccuracy || dur.conversionAccuracy,\n    matrix: alts.matrix || dur.matrix,\n  };\n  return new Duration(conf);\n}\n\nfunction antiTrunc(n) {\n  return n < 0 ? Math.floor(n) : Math.ceil(n);\n}\n\n// NB: mutates parameters\nfunction convert(matrix, fromMap, fromUnit, toMap, toUnit) {\n  const conv = matrix[toUnit][fromUnit],\n    raw = fromMap[fromUnit] / conv,\n    sameSign = Math.sign(raw) === Math.sign(toMap[toUnit]),\n    // ok, so this is wild, but see the matrix in the tests\n    added =\n      !sameSign && toMap[toUnit] !== 0 && Math.abs(raw) <= 1 ? antiTrunc(raw) : Math.trunc(raw);\n  toMap[toUnit] += added;\n  fromMap[fromUnit] -= added * conv;\n}\n\n// NB: mutates parameters\nfunction normalizeValues(matrix, vals) {\n  reverseUnits.reduce((previous, current) => {\n    if (!isUndefined(vals[current])) {\n      if (previous) {\n        convert(matrix, vals, previous, vals, current);\n      }\n      return current;\n    } else {\n      return previous;\n    }\n  }, null);\n}\n\n// Remove all properties with a value of 0 from an object\nfunction removeZeroes(vals) {\n  const newVals = {};\n  for (const [key, value] of Object.entries(vals)) {\n    if (value !== 0) {\n      newVals[key] = value;\n    }\n  }\n  return newVals;\n}\n\n/**\n * A Duration object represents a period of time, like \"2 months\" or \"1 day, 1 hour\". Conceptually, it's just a map of units to their quantities, accompanied by some additional configuration and methods for creating, parsing, interrogating, transforming, and formatting them. They can be used on their own or in conjunction with other Luxon types; for example, you can use {@link DateTime#plus} to add a Duration object to a DateTime, producing another DateTime.\n *\n * Here is a brief overview of commonly used methods and getters in Duration:\n *\n * * **Creation** To create a Duration, use {@link Duration.fromMillis}, {@link Duration.fromObject}, or {@link Duration.fromISO}.\n * * **Unit values** See the {@link Duration#years}, {@link Duration#months}, {@link Duration#weeks}, {@link Duration#days}, {@link Duration#hours}, {@link Duration#minutes}, {@link Duration#seconds}, {@link Duration#milliseconds} accessors.\n * * **Configuration** See  {@link Duration#locale} and {@link Duration#numberingSystem} accessors.\n * * **Transformation** To create new Durations out of old ones use {@link Duration#plus}, {@link Duration#minus}, {@link Duration#normalize}, {@link Duration#set}, {@link Duration#reconfigure}, {@link Duration#shiftTo}, and {@link Duration#negate}.\n * * **Output** To convert the Duration into other representations, see {@link Duration#as}, {@link Duration#toISO}, {@link Duration#toFormat}, and {@link Duration#toJSON}\n *\n * There's are more methods documented below. In addition, for more information on subtler topics like internationalization and validity, see the external documentation.\n */\nexport default class Duration {\n  /**\n   * @private\n   */\n  constructor(config) {\n    const accurate = config.conversionAccuracy === \"longterm\" || false;\n    let matrix = accurate ? accurateMatrix : casualMatrix;\n\n    if (config.matrix) {\n      matrix = config.matrix;\n    }\n\n    /**\n     * @access private\n     */\n    this.values = config.values;\n    /**\n     * @access private\n     */\n    this.loc = config.loc || Locale.create();\n    /**\n     * @access private\n     */\n    this.conversionAccuracy = accurate ? \"longterm\" : \"casual\";\n    /**\n     * @access private\n     */\n    this.invalid = config.invalid || null;\n    /**\n     * @access private\n     */\n    this.matrix = matrix;\n    /**\n     * @access private\n     */\n    this.isLuxonDuration = true;\n  }\n\n  /**\n   * Create Duration from a number of milliseconds.\n   * @param {number} count of milliseconds\n   * @param {Object} opts - options for parsing\n   * @param {string} [opts.locale='en-US'] - the locale to use\n   * @param {string} opts.numberingSystem - the numbering system to use\n   * @param {string} [opts.conversionAccuracy='casual'] - the conversion system to use\n   * @return {Duration}\n   */\n  static fromMillis(count, opts) {\n    return Duration.fromObject({ milliseconds: count }, opts);\n  }\n\n  /**\n   * Create a Duration from a JavaScript object with keys like 'years' and 'hours'.\n   * If this object is empty then a zero milliseconds duration is returned.\n   * @param {Object} obj - the object to create the DateTime from\n   * @param {number} obj.years\n   * @param {number} obj.quarters\n   * @param {number} obj.months\n   * @param {number} obj.weeks\n   * @param {number} obj.days\n   * @param {number} obj.hours\n   * @param {number} obj.minutes\n   * @param {number} obj.seconds\n   * @param {number} obj.milliseconds\n   * @param {Object} [opts=[]] - options for creating this Duration\n   * @param {string} [opts.locale='en-US'] - the locale to use\n   * @param {string} opts.numberingSystem - the numbering system to use\n   * @param {string} [opts.conversionAccuracy='casual'] - the preset conversion system to use\n   * @param {string} [opts.matrix=Object] - the custom conversion system to use\n   * @return {Duration}\n   */\n  static fromObject(obj, opts = {}) {\n    if (obj == null || typeof obj !== \"object\") {\n      throw new InvalidArgumentError(\n        `Duration.fromObject: argument expected to be an object, got ${\n          obj === null ? \"null\" : typeof obj\n        }`\n      );\n    }\n\n    return new Duration({\n      values: normalizeObject(obj, Duration.normalizeUnit),\n      loc: Locale.fromObject(opts),\n      conversionAccuracy: opts.conversionAccuracy,\n      matrix: opts.matrix,\n    });\n  }\n\n  /**\n   * Create a Duration from DurationLike.\n   *\n   * @param {Object | number | Duration} durationLike\n   * One of:\n   * - object with keys like 'years' and 'hours'.\n   * - number representing milliseconds\n   * - Duration instance\n   * @return {Duration}\n   */\n  static fromDurationLike(durationLike) {\n    if (isNumber(durationLike)) {\n      return Duration.fromMillis(durationLike);\n    } else if (Duration.isDuration(durationLike)) {\n      return durationLike;\n    } else if (typeof durationLike === \"object\") {\n      return Duration.fromObject(durationLike);\n    } else {\n      throw new InvalidArgumentError(\n        `Unknown duration argument ${durationLike} of type ${typeof durationLike}`\n      );\n    }\n  }\n\n  /**\n   * Create a Duration from an ISO 8601 duration string.\n   * @param {string} text - text to parse\n   * @param {Object} opts - options for parsing\n   * @param {string} [opts.locale='en-US'] - the locale to use\n   * @param {string} opts.numberingSystem - the numbering system to use\n   * @param {string} [opts.conversionAccuracy='casual'] - the preset conversion system to use\n   * @param {string} [opts.matrix=Object] - the preset conversion system to use\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Durations\n   * @example Duration.fromISO('P3Y6M1W4DT12H30M5S').toObject() //=> { years: 3, months: 6, weeks: 1, days: 4, hours: 12, minutes: 30, seconds: 5 }\n   * @example Duration.fromISO('PT23H').toObject() //=> { hours: 23 }\n   * @example Duration.fromISO('P5Y3M').toObject() //=> { years: 5, months: 3 }\n   * @return {Duration}\n   */\n  static fromISO(text, opts) {\n    const [parsed] = parseISODuration(text);\n    if (parsed) {\n      return Duration.fromObject(parsed, opts);\n    } else {\n      return Duration.invalid(\"unparsable\", `the input \"${text}\" can't be parsed as ISO 8601`);\n    }\n  }\n\n  /**\n   * Create a Duration from an ISO 8601 time string.\n   * @param {string} text - text to parse\n   * @param {Object} opts - options for parsing\n   * @param {string} [opts.locale='en-US'] - the locale to use\n   * @param {string} opts.numberingSystem - the numbering system to use\n   * @param {string} [opts.conversionAccuracy='casual'] - the preset conversion system to use\n   * @param {string} [opts.matrix=Object] - the conversion system to use\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Times\n   * @example Duration.fromISOTime('11:22:33.444').toObject() //=> { hours: 11, minutes: 22, seconds: 33, milliseconds: 444 }\n   * @example Duration.fromISOTime('11:00').toObject() //=> { hours: 11, minutes: 0, seconds: 0 }\n   * @example Duration.fromISOTime('T11:00').toObject() //=> { hours: 11, minutes: 0, seconds: 0 }\n   * @example Duration.fromISOTime('1100').toObject() //=> { hours: 11, minutes: 0, seconds: 0 }\n   * @example Duration.fromISOTime('T1100').toObject() //=> { hours: 11, minutes: 0, seconds: 0 }\n   * @return {Duration}\n   */\n  static fromISOTime(text, opts) {\n    const [parsed] = parseISOTimeOnly(text);\n    if (parsed) {\n      return Duration.fromObject(parsed, opts);\n    } else {\n      return Duration.invalid(\"unparsable\", `the input \"${text}\" can't be parsed as ISO 8601`);\n    }\n  }\n\n  /**\n   * Create an invalid Duration.\n   * @param {string} reason - simple string of why this datetime is invalid. Should not contain parameters or anything else data-dependent\n   * @param {string} [explanation=null] - longer explanation, may include parameters and other useful debugging information\n   * @return {Duration}\n   */\n  static invalid(reason, explanation = null) {\n    if (!reason) {\n      throw new InvalidArgumentError(\"need to specify a reason the Duration is invalid\");\n    }\n\n    const invalid = reason instanceof Invalid ? reason : new Invalid(reason, explanation);\n\n    if (Settings.throwOnInvalid) {\n      throw new InvalidDurationError(invalid);\n    } else {\n      return new Duration({ invalid });\n    }\n  }\n\n  /**\n   * @private\n   */\n  static normalizeUnit(unit) {\n    const normalized = {\n      year: \"years\",\n      years: \"years\",\n      quarter: \"quarters\",\n      quarters: \"quarters\",\n      month: \"months\",\n      months: \"months\",\n      week: \"weeks\",\n      weeks: \"weeks\",\n      day: \"days\",\n      days: \"days\",\n      hour: \"hours\",\n      hours: \"hours\",\n      minute: \"minutes\",\n      minutes: \"minutes\",\n      second: \"seconds\",\n      seconds: \"seconds\",\n      millisecond: \"milliseconds\",\n      milliseconds: \"milliseconds\",\n    }[unit ? unit.toLowerCase() : unit];\n\n    if (!normalized) throw new InvalidUnitError(unit);\n\n    return normalized;\n  }\n\n  /**\n   * Check if an object is a Duration. Works across context boundaries\n   * @param {object} o\n   * @return {boolean}\n   */\n  static isDuration(o) {\n    return (o && o.isLuxonDuration) || false;\n  }\n\n  /**\n   * Get  the locale of a Duration, such 'en-GB'\n   * @type {string}\n   */\n  get locale() {\n    return this.isValid ? this.loc.locale : null;\n  }\n\n  /**\n   * Get the numbering system of a Duration, such 'beng'. The numbering system is used when formatting the Duration\n   *\n   * @type {string}\n   */\n  get numberingSystem() {\n    return this.isValid ? this.loc.numberingSystem : null;\n  }\n\n  /**\n   * Returns a string representation of this Duration formatted according to the specified format string. You may use these tokens:\n   * * `S` for milliseconds\n   * * `s` for seconds\n   * * `m` for minutes\n   * * `h` for hours\n   * * `d` for days\n   * * `w` for weeks\n   * * `M` for months\n   * * `y` for years\n   * Notes:\n   * * Add padding by repeating the token, e.g. \"yy\" pads the years to two digits, \"hhhh\" pads the hours out to four digits\n   * * Tokens can be escaped by wrapping with single quotes.\n   * * The duration will be converted to the set of units in the format string using {@link Duration#shiftTo} and the Durations's conversion accuracy setting.\n   * @param {string} fmt - the format string\n   * @param {Object} opts - options\n   * @param {boolean} [opts.floor=true] - floor numerical values\n   * @example Duration.fromObject({ years: 1, days: 6, seconds: 2 }).toFormat(\"y d s\") //=> \"1 6 2\"\n   * @example Duration.fromObject({ years: 1, days: 6, seconds: 2 }).toFormat(\"yy dd sss\") //=> \"01 06 002\"\n   * @example Duration.fromObject({ years: 1, days: 6, seconds: 2 }).toFormat(\"M S\") //=> \"12 518402000\"\n   * @return {string}\n   */\n  toFormat(fmt, opts = {}) {\n    // reverse-compat since 1.2; we always round down now, never up, and we do it by default\n    const fmtOpts = {\n      ...opts,\n      floor: opts.round !== false && opts.floor !== false,\n    };\n    return this.isValid\n      ? Formatter.create(this.loc, fmtOpts).formatDurationFromString(this, fmt)\n      : INVALID;\n  }\n\n  /**\n   * Returns a string representation of a Duration with all units included.\n   * To modify its behavior use the `listStyle` and any Intl.NumberFormat option, though `unitDisplay` is especially relevant.\n   * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat\n   * @param opts - On option object to override the formatting. Accepts the same keys as the options parameter of the native `Int.NumberFormat` constructor, as well as `listStyle`.\n   * @example\n   * ```js\n   * var dur = Duration.fromObject({ days: 1, hours: 5, minutes: 6 })\n   * dur.toHuman() //=> '1 day, 5 hours, 6 minutes'\n   * dur.toHuman({ listStyle: \"long\" }) //=> '1 day, 5 hours, and 6 minutes'\n   * dur.toHuman({ unitDisplay: \"short\" }) //=> '1 day, 5 hr, 6 min'\n   * ```\n   */\n  toHuman(opts = {}) {\n    const l = orderedUnits\n      .map((unit) => {\n        const val = this.values[unit];\n        if (isUndefined(val)) {\n          return null;\n        }\n        return this.loc\n          .numberFormatter({ style: \"unit\", unitDisplay: \"long\", ...opts, unit: unit.slice(0, -1) })\n          .format(val);\n      })\n      .filter((n) => n);\n\n    return this.loc\n      .listFormatter({ type: \"conjunction\", style: opts.listStyle || \"narrow\", ...opts })\n      .format(l);\n  }\n\n  /**\n   * Returns a JavaScript object with this Duration's values.\n   * @example Duration.fromObject({ years: 1, days: 6, seconds: 2 }).toObject() //=> { years: 1, days: 6, seconds: 2 }\n   * @return {Object}\n   */\n  toObject() {\n    if (!this.isValid) return {};\n    return { ...this.values };\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this Duration.\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Durations\n   * @example Duration.fromObject({ years: 3, seconds: 45 }).toISO() //=> 'P3YT45S'\n   * @example Duration.fromObject({ months: 4, seconds: 45 }).toISO() //=> 'P4MT45S'\n   * @example Duration.fromObject({ months: 5 }).toISO() //=> 'P5M'\n   * @example Duration.fromObject({ minutes: 5 }).toISO() //=> 'PT5M'\n   * @example Duration.fromObject({ milliseconds: 6 }).toISO() //=> 'PT0.006S'\n   * @return {string}\n   */\n  toISO() {\n    // we could use the formatter, but this is an easier way to get the minimum string\n    if (!this.isValid) return null;\n\n    let s = \"P\";\n    if (this.years !== 0) s += this.years + \"Y\";\n    if (this.months !== 0 || this.quarters !== 0) s += this.months + this.quarters * 3 + \"M\";\n    if (this.weeks !== 0) s += this.weeks + \"W\";\n    if (this.days !== 0) s += this.days + \"D\";\n    if (this.hours !== 0 || this.minutes !== 0 || this.seconds !== 0 || this.milliseconds !== 0)\n      s += \"T\";\n    if (this.hours !== 0) s += this.hours + \"H\";\n    if (this.minutes !== 0) s += this.minutes + \"M\";\n    if (this.seconds !== 0 || this.milliseconds !== 0)\n      // this will handle \"floating point madness\" by removing extra decimal places\n      // https://stackoverflow.com/questions/588004/is-floating-point-math-broken\n      s += roundTo(this.seconds + this.milliseconds / 1000, 3) + \"S\";\n    if (s === \"P\") s += \"T0S\";\n    return s;\n  }\n\n  /**\n   * Returns an ISO 8601-compliant string representation of this Duration, formatted as a time of day.\n   * Note that this will return null if the duration is invalid, negative, or equal to or greater than 24 hours.\n   * @see https://en.wikipedia.org/wiki/ISO_8601#Times\n   * @param {Object} opts - options\n   * @param {boolean} [opts.suppressMilliseconds=false] - exclude milliseconds from the format if they're 0\n   * @param {boolean} [opts.suppressSeconds=false] - exclude seconds from the format if they're 0\n   * @param {boolean} [opts.includePrefix=false] - include the `T` prefix\n   * @param {string} [opts.format='extended'] - choose between the basic and extended format\n   * @example Duration.fromObject({ hours: 11 }).toISOTime() //=> '11:00:00.000'\n   * @example Duration.fromObject({ hours: 11 }).toISOTime({ suppressMilliseconds: true }) //=> '11:00:00'\n   * @example Duration.fromObject({ hours: 11 }).toISOTime({ suppressSeconds: true }) //=> '11:00'\n   * @example Duration.fromObject({ hours: 11 }).toISOTime({ includePrefix: true }) //=> 'T11:00:00.000'\n   * @example Duration.fromObject({ hours: 11 }).toISOTime({ format: 'basic' }) //=> '110000.000'\n   * @return {string}\n   */\n  toISOTime(opts = {}) {\n    if (!this.isValid) return null;\n\n    const millis = this.toMillis();\n    if (millis < 0 || millis >= 86400000) return null;\n\n    opts = {\n      suppressMilliseconds: false,\n      suppressSeconds: false,\n      includePrefix: false,\n      format: \"extended\",\n      ...opts,\n    };\n\n    const value = this.shiftTo(\"hours\", \"minutes\", \"seconds\", \"milliseconds\");\n\n    let fmt = opts.format === \"basic\" ? \"hhmm\" : \"hh:mm\";\n\n    if (!opts.suppressSeconds || value.seconds !== 0 || value.milliseconds !== 0) {\n      fmt += opts.format === \"basic\" ? \"ss\" : \":ss\";\n      if (!opts.suppressMilliseconds || value.milliseconds !== 0) {\n        fmt += \".SSS\";\n      }\n    }\n\n    let str = value.toFormat(fmt);\n\n    if (opts.includePrefix) {\n      str = \"T\" + str;\n    }\n\n    return str;\n  }\n\n  /**\n   * Returns an ISO 8601 representation of this Duration appropriate for use in JSON.\n   * @return {string}\n   */\n  toJSON() {\n    return this.toISO();\n  }\n\n  /**\n   * Returns an ISO 8601 representation of this Duration appropriate for use in debugging.\n   * @return {string}\n   */\n  toString() {\n    return this.toISO();\n  }\n\n  /**\n   * Returns an milliseconds value of this Duration.\n   * @return {number}\n   */\n  toMillis() {\n    return this.as(\"milliseconds\");\n  }\n\n  /**\n   * Returns an milliseconds value of this Duration. Alias of {@link toMillis}\n   * @return {number}\n   */\n  valueOf() {\n    return this.toMillis();\n  }\n\n  /**\n   * Make this Duration longer by the specified amount. Return a newly-constructed Duration.\n   * @param {Duration|Object|number} duration - The amount to add. Either a Luxon Duration, a number of milliseconds, the object argument to Duration.fromObject()\n   * @return {Duration}\n   */\n  plus(duration) {\n    if (!this.isValid) return this;\n\n    const dur = Duration.fromDurationLike(duration),\n      result = {};\n\n    for (const k of orderedUnits) {\n      if (hasOwnProperty(dur.values, k) || hasOwnProperty(this.values, k)) {\n        result[k] = dur.get(k) + this.get(k);\n      }\n    }\n\n    return clone(this, { values: result }, true);\n  }\n\n  /**\n   * Make this Duration shorter by the specified amount. Return a newly-constructed Duration.\n   * @param {Duration|Object|number} duration - The amount to subtract. Either a Luxon Duration, a number of milliseconds, the object argument to Duration.fromObject()\n   * @return {Duration}\n   */\n  minus(duration) {\n    if (!this.isValid) return this;\n\n    const dur = Duration.fromDurationLike(duration);\n    return this.plus(dur.negate());\n  }\n\n  /**\n   * Scale this Duration by the specified amount. Return a newly-constructed Duration.\n   * @param {function} fn - The function to apply to each unit. Arity is 1 or 2: the value of the unit and, optionally, the unit name. Must return a number.\n   * @example Duration.fromObject({ hours: 1, minutes: 30 }).mapUnits(x => x * 2) //=> { hours: 2, minutes: 60 }\n   * @example Duration.fromObject({ hours: 1, minutes: 30 }).mapUnits((x, u) => u === \"hours\" ? x * 2 : x) //=> { hours: 2, minutes: 30 }\n   * @return {Duration}\n   */\n  mapUnits(fn) {\n    if (!this.isValid) return this;\n    const result = {};\n    for (const k of Object.keys(this.values)) {\n      result[k] = asNumber(fn(this.values[k], k));\n    }\n    return clone(this, { values: result }, true);\n  }\n\n  /**\n   * Get the value of unit.\n   * @param {string} unit - a unit such as 'minute' or 'day'\n   * @example Duration.fromObject({years: 2, days: 3}).get('years') //=> 2\n   * @example Duration.fromObject({years: 2, days: 3}).get('months') //=> 0\n   * @example Duration.fromObject({years: 2, days: 3}).get('days') //=> 3\n   * @return {number}\n   */\n  get(unit) {\n    return this[Duration.normalizeUnit(unit)];\n  }\n\n  /**\n   * \"Set\" the values of specified units. Return a newly-constructed Duration.\n   * @param {Object} values - a mapping of units to numbers\n   * @example dur.set({ years: 2017 })\n   * @example dur.set({ hours: 8, minutes: 30 })\n   * @return {Duration}\n   */\n  set(values) {\n    if (!this.isValid) return this;\n\n    const mixed = { ...this.values, ...normalizeObject(values, Duration.normalizeUnit) };\n    return clone(this, { values: mixed });\n  }\n\n  /**\n   * \"Set\" the locale and/or numberingSystem.  Returns a newly-constructed Duration.\n   * @example dur.reconfigure({ locale: 'en-GB' })\n   * @return {Duration}\n   */\n  reconfigure({ locale, numberingSystem, conversionAccuracy, matrix } = {}) {\n    const loc = this.loc.clone({ locale, numberingSystem });\n    const opts = { loc, matrix, conversionAccuracy };\n    return clone(this, opts);\n  }\n\n  /**\n   * Return the length of the duration in the specified unit.\n   * @param {string} unit - a unit such as 'minutes' or 'days'\n   * @example Duration.fromObject({years: 1}).as('days') //=> 365\n   * @example Duration.fromObject({years: 1}).as('months') //=> 12\n   * @example Duration.fromObject({hours: 60}).as('days') //=> 2.5\n   * @return {number}\n   */\n  as(unit) {\n    return this.isValid ? this.shiftTo(unit).get(unit) : NaN;\n  }\n\n  /**\n   * Reduce this Duration to its canonical representation in its current units.\n   * @example Duration.fromObject({ years: 2, days: 5000 }).normalize().toObject() //=> { years: 15, days: 255 }\n   * @example Duration.fromObject({ hours: 12, minutes: -45 }).normalize().toObject() //=> { hours: 11, minutes: 15 }\n   * @return {Duration}\n   */\n  normalize() {\n    if (!this.isValid) return this;\n    const vals = this.toObject();\n    normalizeValues(this.matrix, vals);\n    return clone(this, { values: vals }, true);\n  }\n\n  /**\n   * Rescale units to its largest representation\n   * @example Duration.fromObject({ milliseconds: 90000 }).rescale().toObject() //=> { minutes: 1, seconds: 30 }\n   * @return {Duration}\n   */\n  rescale() {\n    if (!this.isValid) return this;\n    const vals = removeZeroes(this.normalize().shiftToAll().toObject());\n    return clone(this, { values: vals }, true);\n  }\n\n  /**\n   * Convert this Duration into its representation in a different set of units.\n   * @example Duration.fromObject({ hours: 1, seconds: 30 }).shiftTo('minutes', 'milliseconds').toObject() //=> { minutes: 60, milliseconds: 30000 }\n   * @return {Duration}\n   */\n  shiftTo(...units) {\n    if (!this.isValid) return this;\n\n    if (units.length === 0) {\n      return this;\n    }\n\n    units = units.map((u) => Duration.normalizeUnit(u));\n\n    const built = {},\n      accumulated = {},\n      vals = this.toObject();\n    let lastUnit;\n\n    for (const k of orderedUnits) {\n      if (units.indexOf(k) >= 0) {\n        lastUnit = k;\n\n        let own = 0;\n\n        // anything we haven't boiled down yet should get boiled to this unit\n        for (const ak in accumulated) {\n          own += this.matrix[ak][k] * accumulated[ak];\n          accumulated[ak] = 0;\n        }\n\n        // plus anything that's already in this unit\n        if (isNumber(vals[k])) {\n          own += vals[k];\n        }\n\n        const i = Math.trunc(own);\n        built[k] = i;\n        accumulated[k] = (own * 1000 - i * 1000) / 1000;\n\n        // plus anything further down the chain that should be rolled up in to this\n        for (const down in vals) {\n          if (orderedUnits.indexOf(down) > orderedUnits.indexOf(k)) {\n            convert(this.matrix, vals, down, built, k);\n          }\n        }\n        // otherwise, keep it in the wings to boil it later\n      } else if (isNumber(vals[k])) {\n        accumulated[k] = vals[k];\n      }\n    }\n\n    // anything leftover becomes the decimal for the last unit\n    // lastUnit must be defined since units is not empty\n    for (const key in accumulated) {\n      if (accumulated[key] !== 0) {\n        built[lastUnit] +=\n          key === lastUnit ? accumulated[key] : accumulated[key] / this.matrix[lastUnit][key];\n      }\n    }\n\n    return clone(this, { values: built }, true).normalize();\n  }\n\n  /**\n   * Shift this Duration to all available units.\n   * Same as shiftTo(\"years\", \"months\", \"weeks\", \"days\", \"hours\", \"minutes\", \"seconds\", \"milliseconds\")\n   * @return {Duration}\n   */\n  shiftToAll() {\n    if (!this.isValid) return this;\n    return this.shiftTo(\n      \"years\",\n      \"months\",\n      \"weeks\",\n      \"days\",\n      \"hours\",\n      \"minutes\",\n      \"seconds\",\n      \"milliseconds\"\n    );\n  }\n\n  /**\n   * Return the negative of this Duration.\n   * @example Duration.fromObject({ hours: 1, seconds: 30 }).negate().toObject() //=> { hours: -1, seconds: -30 }\n   * @return {Duration}\n   */\n  negate() {\n    if (!this.isValid) return this;\n    const negated = {};\n    for (const k of Object.keys(this.values)) {\n      negated[k] = this.values[k] === 0 ? 0 : -this.values[k];\n    }\n    return clone(this, { values: negated }, true);\n  }\n\n  /**\n   * Get the years.\n   * @type {number}\n   */\n  get years() {\n    return this.isValid ? this.values.years || 0 : NaN;\n  }\n\n  /**\n   * Get the quarters.\n   * @type {number}\n   */\n  get quarters() {\n    return this.isValid ? this.values.quarters || 0 : NaN;\n  }\n\n  /**\n   * Get the months.\n   * @type {number}\n   */\n  get months() {\n    return this.isValid ? this.values.months || 0 : NaN;\n  }\n\n  /**\n   * Get the weeks\n   * @type {number}\n   */\n  get weeks() {\n    return this.isValid ? this.values.weeks || 0 : NaN;\n  }\n\n  /**\n   * Get the days.\n   * @type {number}\n   */\n  get days() {\n    return this.isValid ? this.values.days || 0 : NaN;\n  }\n\n  /**\n   * Get the hours.\n   * @type {number}\n   */\n  get hours() {\n    return this.isValid ? this.values.hours || 0 : NaN;\n  }\n\n  /**\n   * Get the minutes.\n   * @type {number}\n   */\n  get minutes() {\n    return this.isValid ? this.values.minutes || 0 : NaN;\n  }\n\n  /**\n   * Get the seconds.\n   * @return {number}\n   */\n  get seconds() {\n    return this.isValid ? this.values.seconds || 0 : NaN;\n  }\n\n  /**\n   * Get the milliseconds.\n   * @return {number}\n   */\n  get milliseconds() {\n    return this.isValid ? this.values.milliseconds || 0 : NaN;\n  }\n\n  /**\n   * Returns whether the Duration is invalid. Invalid durations are returned by diff operations\n   * on invalid DateTimes or Intervals.\n   * @return {boolean}\n   */\n  get isValid() {\n    return this.invalid === null;\n  }\n\n  /**\n   * Returns an error code if this Duration became invalid, or null if the Duration is valid\n   * @return {string}\n   */\n  get invalidReason() {\n    return this.invalid ? this.invalid.reason : null;\n  }\n\n  /**\n   * Returns an explanation of why this Duration became invalid, or null if the Duration is valid\n   * @type {string}\n   */\n  get invalidExplanation() {\n    return this.invalid ? this.invalid.explanation : null;\n  }\n\n  /**\n   * Equality check\n   * Two Durations are equal iff they have the same units and the same values for each unit.\n   * @param {Duration} other\n   * @return {boolean}\n   */\n  equals(other) {\n    if (!this.isValid || !other.isValid) {\n      return false;\n    }\n\n    if (!this.loc.equals(other.loc)) {\n      return false;\n    }\n\n    function eq(v1, v2) {\n      // Consider 0 and undefined as equal\n      if (v1 === undefined || v1 === 0) return v2 === undefined || v2 === 0;\n      return v1 === v2;\n    }\n\n    for (const u of orderedUnits) {\n      if (!eq(this.values[u], other.values[u])) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n","const numberingSystems = {\n  arab: \"[\\u0660-\\u0669]\",\n  arabext: \"[\\u06F0-\\u06F9]\",\n  bali: \"[\\u1B50-\\u1B59]\",\n  beng: \"[\\u09E6-\\u09EF]\",\n  deva: \"[\\u0966-\\u096F]\",\n  fullwide: \"[\\uFF10-\\uFF19]\",\n  gujr: \"[\\u0AE6-\\u0AEF]\",\n  hanidec: \"[|||||||||]\",\n  khmr: \"[\\u17E0-\\u17E9]\",\n  knda: \"[\\u0CE6-\\u0CEF]\",\n  laoo: \"[\\u0ED0-\\u0ED9]\",\n  limb: \"[\\u1946-\\u194F]\",\n  mlym: \"[\\u0D66-\\u0D6F]\",\n  mong: \"[\\u1810-\\u1819]\",\n  mymr: \"[\\u1040-\\u1049]\",\n  orya: \"[\\u0B66-\\u0B6F]\",\n  tamldec: \"[\\u0BE6-\\u0BEF]\",\n  telu: \"[\\u0C66-\\u0C6F]\",\n  thai: \"[\\u0E50-\\u0E59]\",\n  tibt: \"[\\u0F20-\\u0F29]\",\n  latn: \"\\\\d\",\n};\n\nconst numberingSystemsUTF16 = {\n  arab: [1632, 1641],\n  arabext: [1776, 1785],\n  bali: [6992, 7001],\n  beng: [2534, 2543],\n  deva: [2406, 2415],\n  fullwide: [65296, 65303],\n  gujr: [2790, 2799],\n  khmr: [6112, 6121],\n  knda: [3302, 3311],\n  laoo: [3792, 3801],\n  limb: [6470, 6479],\n  mlym: [3430, 3439],\n  mong: [6160, 6169],\n  mymr: [4160, 4169],\n  orya: [2918, 2927],\n  tamldec: [3046, 3055],\n  telu: [3174, 3183],\n  thai: [3664, 3673],\n  tibt: [3872, 3881],\n};\n\nconst hanidecChars = numberingSystems.hanidec.replace(/[\\[|\\]]/g, \"\").split(\"\");\n\nexport function parseDigits(str) {\n  let value = parseInt(str, 10);\n  if (isNaN(value)) {\n    value = \"\";\n    for (let i = 0; i < str.length; i++) {\n      const code = str.charCodeAt(i);\n\n      if (str[i].search(numberingSystems.hanidec) !== -1) {\n        value += hanidecChars.indexOf(str[i]);\n      } else {\n        for (const key in numberingSystemsUTF16) {\n          const [min, max] = numberingSystemsUTF16[key];\n          if (code >= min && code <= max) {\n            value += code - min;\n          }\n        }\n      }\n    }\n    return parseInt(value, 10);\n  } else {\n    return value;\n  }\n}\n\nexport function digitRegex({ numberingSystem }, append = \"\") {\n  return new RegExp(`${numberingSystems[numberingSystem || \"latn\"]}${append}`);\n}\n","import { parseMillis, isUndefined, untruncateYear, signedOffset, hasOwnProperty } from \"./util.js\";\nimport Formatter from \"./formatter.js\";\nimport FixedOffsetZone from \"../zones/fixedOffsetZone.js\";\nimport IANAZone from \"../zones/IANAZone.js\";\nimport DateTime from \"../datetime.js\";\nimport { digitRegex, parseDigits } from \"./digits.js\";\nimport { ConflictingSpecificationError } from \"../errors.js\";\n\nconst MISSING_FTP = \"missing Intl.DateTimeFormat.formatToParts support\";\n\nfunction intUnit(regex, post = (i) => i) {\n  return { regex, deser: ([s]) => post(parseDigits(s)) };\n}\n\nconst NBSP = String.fromCharCode(160);\nconst spaceOrNBSP = `[ ${NBSP}]`;\nconst spaceOrNBSPRegExp = new RegExp(spaceOrNBSP, \"g\");\n\nfunction fixListRegex(s) {\n  // make dots optional and also make them literal\n  // make space and non breakable space characters interchangeable\n  return s.replace(/\\./g, \"\\\\.?\").replace(spaceOrNBSPRegExp, spaceOrNBSP);\n}\n\nfunction stripInsensitivities(s) {\n  return s\n    .replace(/\\./g, \"\") // ignore dots that were made optional\n    .replace(spaceOrNBSPRegExp, \" \") // interchange space and nbsp\n    .toLowerCase();\n}\n\nfunction oneOf(strings, startIndex) {\n  if (strings === null) {\n    return null;\n  } else {\n    return {\n      regex: RegExp(strings.map(fixListRegex).join(\"|\")),\n      deser: ([s]) =>\n        strings.findIndex((i) => stripInsensitivities(s) === stripInsensitivities(i)) + startIndex,\n    };\n  }\n}\n\nfunction offset(regex, groups) {\n  return { regex, deser: ([, h, m]) => signedOffset(h, m), groups };\n}\n\nfunction simple(regex) {\n  return { regex, deser: ([s]) => s };\n}\n\nfunction escapeToken(value) {\n  return value.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\");\n}\n\nfunction unitForToken(token, loc) {\n  const one = digitRegex(loc),\n    two = digitRegex(loc, \"{2}\"),\n    three = digitRegex(loc, \"{3}\"),\n    four = digitRegex(loc, \"{4}\"),\n    six = digitRegex(loc, \"{6}\"),\n    oneOrTwo = digitRegex(loc, \"{1,2}\"),\n    oneToThree = digitRegex(loc, \"{1,3}\"),\n    oneToSix = digitRegex(loc, \"{1,6}\"),\n    oneToNine = digitRegex(loc, \"{1,9}\"),\n    twoToFour = digitRegex(loc, \"{2,4}\"),\n    fourToSix = digitRegex(loc, \"{4,6}\"),\n    literal = (t) => ({ regex: RegExp(escapeToken(t.val)), deser: ([s]) => s, literal: true }),\n    unitate = (t) => {\n      if (token.literal) {\n        return literal(t);\n      }\n      switch (t.val) {\n        // era\n        case \"G\":\n          return oneOf(loc.eras(\"short\", false), 0);\n        case \"GG\":\n          return oneOf(loc.eras(\"long\", false), 0);\n        // years\n        case \"y\":\n          return intUnit(oneToSix);\n        case \"yy\":\n          return intUnit(twoToFour, untruncateYear);\n        case \"yyyy\":\n          return intUnit(four);\n        case \"yyyyy\":\n          return intUnit(fourToSix);\n        case \"yyyyyy\":\n          return intUnit(six);\n        // months\n        case \"M\":\n          return intUnit(oneOrTwo);\n        case \"MM\":\n          return intUnit(two);\n        case \"MMM\":\n          return oneOf(loc.months(\"short\", true, false), 1);\n        case \"MMMM\":\n          return oneOf(loc.months(\"long\", true, false), 1);\n        case \"L\":\n          return intUnit(oneOrTwo);\n        case \"LL\":\n          return intUnit(two);\n        case \"LLL\":\n          return oneOf(loc.months(\"short\", false, false), 1);\n        case \"LLLL\":\n          return oneOf(loc.months(\"long\", false, false), 1);\n        // dates\n        case \"d\":\n          return intUnit(oneOrTwo);\n        case \"dd\":\n          return intUnit(two);\n        // ordinals\n        case \"o\":\n          return intUnit(oneToThree);\n        case \"ooo\":\n          return intUnit(three);\n        // time\n        case \"HH\":\n          return intUnit(two);\n        case \"H\":\n          return intUnit(oneOrTwo);\n        case \"hh\":\n          return intUnit(two);\n        case \"h\":\n          return intUnit(oneOrTwo);\n        case \"mm\":\n          return intUnit(two);\n        case \"m\":\n          return intUnit(oneOrTwo);\n        case \"q\":\n          return intUnit(oneOrTwo);\n        case \"qq\":\n          return intUnit(two);\n        case \"s\":\n          return intUnit(oneOrTwo);\n        case \"ss\":\n          return intUnit(two);\n        case \"S\":\n          return intUnit(oneToThree);\n        case \"SSS\":\n          return intUnit(three);\n        case \"u\":\n          return simple(oneToNine);\n        case \"uu\":\n          return simple(oneOrTwo);\n        case \"uuu\":\n          return intUnit(one);\n        // meridiem\n        case \"a\":\n          return oneOf(loc.meridiems(), 0);\n        // weekYear (k)\n        case \"kkkk\":\n          return intUnit(four);\n        case \"kk\":\n          return intUnit(twoToFour, untruncateYear);\n        // weekNumber (W)\n        case \"W\":\n          return intUnit(oneOrTwo);\n        case \"WW\":\n          return intUnit(two);\n        // weekdays\n        case \"E\":\n        case \"c\":\n          return intUnit(one);\n        case \"EEE\":\n          return oneOf(loc.weekdays(\"short\", false, false), 1);\n        case \"EEEE\":\n          return oneOf(loc.weekdays(\"long\", false, false), 1);\n        case \"ccc\":\n          return oneOf(loc.weekdays(\"short\", true, false), 1);\n        case \"cccc\":\n          return oneOf(loc.weekdays(\"long\", true, false), 1);\n        // offset/zone\n        case \"Z\":\n        case \"ZZ\":\n          return offset(new RegExp(`([+-]${oneOrTwo.source})(?::(${two.source}))?`), 2);\n        case \"ZZZ\":\n          return offset(new RegExp(`([+-]${oneOrTwo.source})(${two.source})?`), 2);\n        // we don't support ZZZZ (PST) or ZZZZZ (Pacific Standard Time) in parsing\n        // because we don't have any way to figure out what they are\n        case \"z\":\n          return simple(/[a-z_+-/]{1,256}?/i);\n        default:\n          return literal(t);\n      }\n    };\n\n  const unit = unitate(token) || {\n    invalidReason: MISSING_FTP,\n  };\n\n  unit.token = token;\n\n  return unit;\n}\n\nconst partTypeStyleToTokenVal = {\n  year: {\n    \"2-digit\": \"yy\",\n    numeric: \"yyyyy\",\n  },\n  month: {\n    numeric: \"M\",\n    \"2-digit\": \"MM\",\n    short: \"MMM\",\n    long: \"MMMM\",\n  },\n  day: {\n    numeric: \"d\",\n    \"2-digit\": \"dd\",\n  },\n  weekday: {\n    short: \"EEE\",\n    long: \"EEEE\",\n  },\n  dayperiod: \"a\",\n  dayPeriod: \"a\",\n  hour: {\n    numeric: \"h\",\n    \"2-digit\": \"hh\",\n  },\n  minute: {\n    numeric: \"m\",\n    \"2-digit\": \"mm\",\n  },\n  second: {\n    numeric: \"s\",\n    \"2-digit\": \"ss\",\n  },\n  timeZoneName: {\n    long: \"ZZZZZ\",\n    short: \"ZZZ\",\n  },\n};\n\nfunction tokenForPart(part, formatOpts) {\n  const { type, value } = part;\n\n  if (type === \"literal\") {\n    return {\n      literal: true,\n      val: value,\n    };\n  }\n\n  const style = formatOpts[type];\n\n  let val = partTypeStyleToTokenVal[type];\n  if (typeof val === \"object\") {\n    val = val[style];\n  }\n\n  if (val) {\n    return {\n      literal: false,\n      val,\n    };\n  }\n\n  return undefined;\n}\n\nfunction buildRegex(units) {\n  const re = units.map((u) => u.regex).reduce((f, r) => `${f}(${r.source})`, \"\");\n  return [`^${re}$`, units];\n}\n\nfunction match(input, regex, handlers) {\n  const matches = input.match(regex);\n\n  if (matches) {\n    const all = {};\n    let matchIndex = 1;\n    for (const i in handlers) {\n      if (hasOwnProperty(handlers, i)) {\n        const h = handlers[i],\n          groups = h.groups ? h.groups + 1 : 1;\n        if (!h.literal && h.token) {\n          all[h.token.val[0]] = h.deser(matches.slice(matchIndex, matchIndex + groups));\n        }\n        matchIndex += groups;\n      }\n    }\n    return [matches, all];\n  } else {\n    return [matches, {}];\n  }\n}\n\nfunction dateTimeFromMatches(matches) {\n  const toField = (token) => {\n    switch (token) {\n      case \"S\":\n        return \"millisecond\";\n      case \"s\":\n        return \"second\";\n      case \"m\":\n        return \"minute\";\n      case \"h\":\n      case \"H\":\n        return \"hour\";\n      case \"d\":\n        return \"day\";\n      case \"o\":\n        return \"ordinal\";\n      case \"L\":\n      case \"M\":\n        return \"month\";\n      case \"y\":\n        return \"year\";\n      case \"E\":\n      case \"c\":\n        return \"weekday\";\n      case \"W\":\n        return \"weekNumber\";\n      case \"k\":\n        return \"weekYear\";\n      case \"q\":\n        return \"quarter\";\n      default:\n        return null;\n    }\n  };\n\n  let zone = null;\n  let specificOffset;\n  if (!isUndefined(matches.z)) {\n    zone = IANAZone.create(matches.z);\n  }\n\n  if (!isUndefined(matches.Z)) {\n    if (!zone) {\n      zone = new FixedOffsetZone(matches.Z);\n    }\n    specificOffset = matches.Z;\n  }\n\n  if (!isUndefined(matches.q)) {\n    matches.M = (matches.q - 1) * 3 + 1;\n  }\n\n  if (!isUndefined(matches.h)) {\n    if (matches.h < 12 && matches.a === 1) {\n      matches.h += 12;\n    } else if (matches.h === 12 && matches.a === 0) {\n      matches.h = 0;\n    }\n  }\n\n  if (matches.G === 0 && matches.y) {\n    matches.y = -matches.y;\n  }\n\n  if (!isUndefined(matches.u)) {\n    matches.S = parseMillis(matches.u);\n  }\n\n  const vals = Object.keys(matches).reduce((r, k) => {\n    const f = toField(k);\n    if (f) {\n      r[f] = matches[k];\n    }\n\n    return r;\n  }, {});\n\n  return [vals, zone, specificOffset];\n}\n\nlet dummyDateTimeCache = null;\n\nfunction getDummyDateTime() {\n  if (!dummyDateTimeCache) {\n    dummyDateTimeCache = DateTime.fromMillis(1555555555555);\n  }\n\n  return dummyDateTimeCache;\n}\n\nfunction maybeExpandMacroToken(token, locale) {\n  if (token.literal) {\n    return token;\n  }\n\n  const formatOpts = Formatter.macroTokenToFormatOpts(token.val);\n  const tokens = formatOptsToTokens(formatOpts, locale);\n\n  if (tokens == null || tokens.includes(undefined)) {\n    return token;\n  }\n\n  return tokens;\n}\n\nexport function expandMacroTokens(tokens, locale) {\n  return Array.prototype.concat(...tokens.map((t) => maybeExpandMacroToken(t, locale)));\n}\n\n/**\n * @private\n */\n\nexport function explainFromTokens(locale, input, format) {\n  const tokens = expandMacroTokens(Formatter.parseFormat(format), locale),\n    units = tokens.map((t) => unitForToken(t, locale)),\n    disqualifyingUnit = units.find((t) => t.invalidReason);\n\n  if (disqualifyingUnit) {\n    return { input, tokens, invalidReason: disqualifyingUnit.invalidReason };\n  } else {\n    const [regexString, handlers] = buildRegex(units),\n      regex = RegExp(regexString, \"i\"),\n      [rawMatches, matches] = match(input, regex, handlers),\n      [result, zone, specificOffset] = matches\n        ? dateTimeFromMatches(matches)\n        : [null, null, undefined];\n    if (hasOwnProperty(matches, \"a\") && hasOwnProperty(matches, \"H\")) {\n      throw new ConflictingSpecificationError(\n        \"Can't include meridiem when specifying 24-hour format\"\n      );\n    }\n    return { input, tokens, regex, rawMatches, matches, result, zone, specificOffset };\n  }\n}\n\nexport function parseFromTokens(locale, input, format) {\n  const { result, zone, specificOffset, invalidReason } = explainFromTokens(locale, input, format);\n  return [result, zone, specificOffset, invalidReason];\n}\n\nexport function formatOptsToTokens(formatOpts, locale) {\n  if (!formatOpts) {\n    return null;\n  }\n\n  const formatter = Formatter.create(locale, formatOpts);\n  const parts = formatter.formatDateTimeParts(getDummyDateTime());\n  return parts.map((p) => tokenForPart(p, formatOpts));\n}\n","import { DateTime } from \"luxon\";\n\n// Adapted from http://indiegamr.com/generate-repeatable-random-numbers-in-js/\nvar _seed = Date.now();\n\nexport function srand(seed) {\n  _seed = seed;\n}\n\nvar d = document;\n\nexport function roundIfNumber(val)\n{\n    return typeof val === \"number\" ? val.toFixed(2) : val\n}\n\nexport function getEl(id)\n{\n    return d.getElementById(id);\n}\n\nexport function getVal(id)\n{\n    return getEl(id).value;\n}\n\nexport function setVal(id, val)\n{\n    getEl(id).value = val;\n}\n\nexport function setIH(id, val)\n{\n    getEl(id).innerHTML = roundIfNumber(val);   // round every number\n}\n\nexport function updateIHIfDifferent(id, val)\n{\n    // console.log([id, (getEl(id).innerHTML == roundIfNumber(val))]);\n    return (getEl(id).innerHTML == roundIfNumber(val) ? null : setIH(id, val ?? 'invalid')) === null ? false : true;\n}\n\nexport function uInfo(id, val, unit = undefined)\n{\n    return updateIHIfDifferent(id, val) || (typeof unit !== \"undefined\" ? updateIHIfDifferent(id+\"Unit\", unit) : false);\n}\n\nexport function Z(n)\n{    // adds a leading zero\n    return n < 10 ? \"0\" + n : n;\n};\n\nexport function timeNow()\n{\n    let d = new Date(); // new Date().toLocaleString();\n    let hh = Z(d.getHours());\n    let mm = Z(d.getMinutes());\n    let ss = Z(d.getSeconds());\n    return [hh, mm, ss].join(':');\n}\n\nexport function dateNow()\n{\n    let d = new Date(); // new Date().toLocaleString();\n    let dd = Z(d.getDate());\n    let mm = Z(d.getMonth()+1);\n    let yyyy = Z(d.getFullYear());\n    return \"<span class='small text-muted'>\"+ [dd, mm, yyyy].join('.') + \"</span>\";;\n}\n\nexport function now()\n{\n    return Date.now();\n}\n\nexport function msToString(ms)\n{\n    let d = new Date(ms);\n    let hh = Z(d.getHours());\n    let mm = Z(d.getMinutes());\n    let ss = Z(d.getSeconds());\n    return [hh, mm, ss].join(':');\n}\n\nexport function currentTime()\n{\n    let timeString = dateNow() +\" - \"+ timeNow();\n    setIH('currentTime', timeString);\n    setTimeout(currentTime, 1000);\n}\n\nexport function onClick(id, callback)\n{\n    getEl(id).addEventListener('click', callback);\n}\n\nexport function onChange(id, callback)\n{\n    getEl(id).addEventListener('change', callback);\n}\n\nexport function disableInputs()\n{\n    // Object.keys(settings['Default 18650']).forEach(o =>\n    // {\n    //     getEl(o).disabled = true;\n    // });\n    getEl('fieldsetParameter').disabled = true;\n}\n\nexport function enableInputs()\n{\n    // Object.keys(settings['Default 18650']).forEach(o =>\n    // {\n    //     getEl(o).disabled = false;\n    // });\n    getEl('fieldsetParameter').disabled = false;\n}\n\nexport function applyPreset(l, opt)\n{\n    Object.entries(l[opt]).forEach(o =>\n    {\n       setVal(o[0], o[1]);\n    });\n}\n\nexport function chartGradient(id)\n{\n    var ctx = getEl('dischargeCurveChart').getContext('2d');\n\n    const g = ctx.createLinearGradient(0, 0, 0, 350)\n    g.addColorStop(0, 'rgba(58,123,213,1)');\n    g.addColorStop(1, 'rgba(0,210,255,.275)');\n\n    return g\n}\n\nexport function toggleChartAnnotaion(switchId, AnnId, chart)\n{\n    onChange(switchId, function(e)\n    {\n        let b = getEl(switchId).checked === true;\n        let a = chart.options.plugins.annotation.annotations;\n        if(AnnId == 1) {\n            a.A50.display = b;\n            a.SOCrpower.display = b;\n            a.SOCpower.display = b;\n        } else if(AnnId == 2) {\n            a.COlow.display = b;\n            a.COhigh.display = b;\n        }\n        chart.update();\n    });\n}\n\nexport function displayAnnotation(c, o)\n{\n    let id = c.id;\n    if(id === \"COlow\" || id === \"COhigh\")\n        return getEl(\"switchCutOffs\").checked === true;\n    else if(id === \"A50\" || id === \"SOCrpower\" || id === \"SOCpower\")\n        return getEl(\"switch50Marks\").checked === true;\n\n    return true;\n}\n\n// https://web.archive.org/web/20090717035140if_/javascript.about.com/od/problemsolving/a/modulobug.htm\nexport function mod(n, m)\n{\n    return ((n % m) + m) % m;\n}\n\n\nexport function integral(f, s, e, acc = .01)\n{\n    let area = 0;\n    do\n    {\n        area += Math.abs ( f(s, 0, 100) ) * acc;\n        //func finds the height of the rect & delta is the width\n        // we use abs because a negative area doesn't make sense\n        s += acc; //move forward by the width of the rect\n    }\n    while ( s <= e ) ; //go until we reach the end\n\n    return area.toFixed(5);\n}\n\nexport function cartesian2Polar(x, y)\n{\n    let distance = Math.sqrt(x*x + y*y);\n    let radians = Math.atan2(y,x);\n\n    return { distance:distance, radians:radians, degrees: radians * (180/Math.PI) };\n}\n\nexport function asPercent(number)\n{\n    return (number / 100).toFixed(2)\n}\n\nclass BaseData\n{\n    data = {};\n    constructor()\n    {\n\n    }\n\n    exec()\n    {\n        console.log(\"not implemented.\");\n    }\n}\n\nexport class ExponentialSmoothing extends BaseData\n{\n    constructor()\n    {\n        super();\n    }\n\n    exec()\n    {\n\n    }\n}\n\nexport class MovingAverage extends BaseData\n{\n    constructor()\n    {\n        super();\n    }\n\n    exec()\n    {\n\n    }\n}\n\n\n/* =============================================================================\n * |\n * |            COLOR utils\n * |\n * =============================================================================\n */\n\n\nexport const CHART_COLORS = {\n    red: 'rgb(255, 99, 132)',\n    orange: 'rgb(255, 159, 64)',\n    yellow: 'rgb(255, 205, 86)',\n    green: 'rgb(75, 192, 192)',\n    blue: 'rgb(54, 162, 235)',\n    purple: 'rgb(153, 102, 255)',\n    grey: 'rgb(201, 203, 207)'\n};\n\nexport class CRGB\n{\n    constructor(r, g, b, a = 1)\n    {\n        this.instance = this;\n\n        this.setRGBA(r, g, b, a);\n        return this;\n    }\n\n    normalize()\n    {\n        // make sure that value are in 0 ... 1 format\n        // instead of 0 .. 255\n        /*\n        this.r = Number.isInteger(r) && r > 1 ?  r / 256 : r;\n        this.g = Number.isInteger(g) && g > 1 ?  g / 256 : g;\n        this.b = Number.isInteger(b) && b > 1 ?  b / 256 : b;\n        */\n\n        this.r /= 255;\n        this.g /= 255;\n        this.b /= 255;\n\n        return this;\n    }\n\n    to8Bit()\n    {\n        let r = this.r * 255;\n        let g = this.g * 255;\n        let b = this.b * 255;\n        let a = this.a * 255;\n        return [r, g, b, a];\n    }\n\n    setRGB(r, g, b)\n    {\n        this.setRGBA(r, g, b, 1);\n        return this;\n    }\n\n    setRGBA(r, g, b, a)\n    {\n        this.r = Number(r);\n        this.g = Number(g);\n        this.b = Number(b);\n        this.a = Number(a);\n\n        this.normalize();\n\n        return this;\n    }\n\n    toString()\n    {\n        return 'rgba('+this.to8Bit().join(', ')+')';\n    }\n\n    gammaAdjust()\n    {\n        const LOW_GAMMA_THRESHOLD = 0.03928;\n        const LOW_GAMMA_ADJUSTMENT_COEFFICIENT = 12.92;\n        let r = this.r <= LOW_GAMMA_THRESHOLD ? this.r / LOW_GAMMA_ADJUSTMENT_COEFFICIENT : this.highGammaAdjust(this.r);\n        let g = this.g <= LOW_GAMMA_THRESHOLD ? this.g / LOW_GAMMA_ADJUSTMENT_COEFFICIENT : this.highGammaAdjust(this.g);\n        let b = this.b <= LOW_GAMMA_THRESHOLD ? this.b / LOW_GAMMA_ADJUSTMENT_COEFFICIENT : this.highGammaAdjust(this.b);\n\n        return {r: r, g: g, b: b};\n    }\n\n    highGammaAdjust(val)\n    {\n        return Math.pow((val + 0.055) / 1.055, 2.4);\n    }\n\n    relativeLuminance()\n    {\n        let adjustedColor = this.gammaAdjust();\n        return 0.2126 * adjustedColor.r + 0.7152 * adjustedColor.g + 0.0722 * adjustedColor.b;\n    }\n\n    contrastRatio(CRGB)\n    {\n        let clr1 = this.relativeLuminance();\n        let clr2 = CRGB.relativeLuminance();\n        let l1 =  Math.max(clr1, clr2);\n        let l2 =  Math.min(clr1, clr2);\n        return (l1 + 0.05) / (l2 + 0.05);\n    }\n\n    color = {\n        red: 'rgb(255, 99, 132)',\n        orange: 'rgb(255, 159, 64)',\n        yellow: 'rgb(255, 205, 86)',\n        green: 'rgb(75, 192, 192)',\n        blue: 'rgb(54, 162, 235)',\n        purple: 'rgb(153, 102, 255)',\n        grey: 'rgb(201, 203, 207)',\n        // Bootstrap colors\n        primary: '#0d6efd',\n        secondary: '#6c757d',\n        success: '#198754',\n        info: '#0dcaf0',\n        warning: '#ffc107',\n        danger: '#dc3545',\n        light: '#f8f9fa',\n        dark: '#212529',\n    };\n\n    // get r()\n    // {\n    //     return this.r * 255;\n    // }\n\n    // get g()\n    // {\n    //     return this.g * 255;\n    // }\n\n    // get b()\n    // {\n    //     return this.g * 255;\n    // }\n\n    // get a()\n    // {\n    //     return this.a;\n    // }\n};\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we dont ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isnt worried about live collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// dont; wed rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name __brush rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export const abs = Math.abs;\nexport const atan2 = Math.atan2;\nexport const cos = Math.cos;\nexport const max = Math.max;\nexport const min = Math.min;\nexport const sin = Math.sin;\nexport const sqrt = Math.sqrt;\n\nexport const epsilon = 1e-12;\nexport const pi = Math.PI;\nexport const halfPi = pi / 2;\nexport const tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n","import constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\nimport {withPath} from \"./path.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null,\n      path = withPath(arc);\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1  r0, da1  da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle. If this\n        // intersection fails, its probably because the arc is too small, so\n        // disable the corner radius entirely.\n        if (da < pi) {\n          if (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10)) {\n            var ax = x01 - oc[0],\n                ay = y01 - oc[1],\n                bx = x11 - oc[0],\n                by = y11 - oc[1],\n                kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n                lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n            rc0 = min(rc, (r0 - lc) / (kc - 1));\n            rc1 = min(rc, (r1 - lc) / (kc + 1));\n          } else {\n            rc0 = rc1 = 0;\n          }\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sectors outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and its a circular sector?\n      // Or perhaps its an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sectors inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","import {Path} from \"d3-path\";\n\nexport function withPath(shape) {\n  let digits = 3;\n\n  shape.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) {\n      digits = null;\n    } else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    return shape;\n  };\n\n  return () => new Path(digits);\n}\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","class Hit\n{\n    constructor(x, y, points, field, fieldName, ring, ringName)\n    {\n        this.x = x;\n        this.y = y;\n        this.points = points;\n        this.field = field;\n        this.fieldName = fieldName;\n        this.ring = ring;\n        this.ringName = ringName;\n    }\n}\n\nexport {\n    Hit as default,\n}\n","import * as d3 from 'd3';\nimport * as UTILS from '../utils';\nimport Hit from './hit';\n\n/**\n *\n */\nexport default class Dartboard\n{\n    constructor(containerSelector = null)\n    {\n        this.identifier = document.getElementById('gameId').getAttribute('value');\n\n        this.options = {\n            size: 360,\n            borderPercent: 13,\n            doublePercent: 8,\n            outerSinglePercent: 28,\n            triplePercent: 7,\n            innerSinglePercent: 32,\n            outerBullPercent: 6,\n            innerBullPercent: 6,\n        };\n\n        this.rings = {\n            BORDER: { name: 'border', abbr: 'O', multiplier: 0 },\n            DOUBLE: { name: 'double', abbr: 'D', multiplier: 2 },\n            OUTER_SINGLE: { name: 'outerSingle', abbr: 'S', multiplier: 1 },\n            TRIPLE: { name: 'triple', abbr: 'T', multiplier: 3 },\n            INNER_SINGLE: { name: 'innerSingle', abbr: 'S', multiplier: 1 },\n            OUTER_BULL: { name: 'outerBull', abbr: 'B', multiplier: 1 },\n            INNER_BULL: { name: 'innerBull', abbr: 'DB', multiplier: 1 },\n        };\n\n        this.beds = [\n            { frame: 20, position: 1, color: 'Dark' },\n            { frame: 1, position: 2, color: 'Light' },\n            { frame: 18, position: 3, color: 'Dark' },\n            { frame: 4, position: 4, color: 'Light' },\n            { frame: 13, position: 5, color: 'Dark' },\n            { frame: 6, position: 6, color: 'Light' },\n            { frame: 10, position: 7, color: 'Dark' },\n            { frame: 15, position: 8, color: 'Light' },\n            { frame: 2, position: 9, color: 'Dark' },\n            { frame: 17, position: 10, color: 'Light' },\n            { frame: 3, position: 11, color: 'Dark' },\n            { frame: 19, position: 12, color: 'Light' },\n            { frame: 7, position: 13, color: 'Dark' },\n            { frame: 16, position: 14, color: 'Light' },\n            { frame: 8, position: 15, color: 'Dark' },\n            { frame: 11, position: 16, color: 'Light' },\n            { frame: 14, position: 17, color: 'Dark' },\n            { frame: 9, position: 18, color: 'Light' },\n            { frame: 12, position: 19, color: 'Dark' },\n            { frame: 5, position: 20, color: 'Light' },\n        ];\n\n        const boardContainer = document.querySelector(containerSelector);\n        const board = {\n            container: boardContainer,\n            element: d3.select(containerSelector).append('div').classed('c-Dartboard', true),\n            width: this.options.size || Math.min(boardContainer.offsetHeight, boardContainer.offsetWidth),\n            segmentWidth: 360 / this.beds.length,\n        };\n        board.height = board.width;\n        board.radius = board.width / 2;\n        board.rotation = board.segmentWidth / -2; // rotate so center of first segment is on top\n        board.svg = this._createBoardSvg(board);\n        this.board = board;\n\n        this.sizes = {\n            border: board.radius * UTILS.asPercent(this.options.borderPercent),\n            double: board.radius * UTILS.asPercent(this.options.doublePercent),\n            outerSingle: board.radius * UTILS.asPercent(this.options.outerSinglePercent),\n            triple: board.radius * UTILS.asPercent(this.options.triplePercent),\n            innerSingle: board.radius * UTILS.asPercent(this.options.innerSinglePercent),\n            outerBull: board.radius * UTILS.asPercent(this.options.outerBullPercent),\n            innerBull: board.radius *UTILS.asPercent(this.options.innerBullPercent),\n        };\n    }\n\n    render()\n    {\n        let skeletonDartboard = document.getElementById('skeleton-dartboard');\n        if(skeletonDartboard)\n            skeletonDartboard.remove();\n\n        this.board.pie = d3.pie()\n            .sort((a, b) => (a.position - b.position))\n            .value(() => this.board.segmentWidth);\n\n        let innerRadius = 0;\n        let outerRadius = innerRadius + this.sizes.innerBull;\n        this._renderSegments(this.rings.INNER_BULL, [{ frame: 50, color: 'Dark' }], outerRadius, innerRadius);\n\n        innerRadius = outerRadius;\n        outerRadius = innerRadius + this.sizes.outerBull;\n        this._renderSegments(this.rings.OUTER_BULL, [{ frame: 25, color: 'Light' }], outerRadius, innerRadius);\n\n        innerRadius = outerRadius;\n        outerRadius = innerRadius + this.sizes.innerSingle;\n        this._renderSegments(this.rings.INNER_SINGLE, this.beds, outerRadius, innerRadius);\n\n        innerRadius = outerRadius;\n        outerRadius = innerRadius + this.sizes.triple;\n        this._renderSegments(this.rings.TRIPLE, this.beds, outerRadius, innerRadius);\n\n        innerRadius = outerRadius;\n        outerRadius = innerRadius + this.sizes.outerSingle;\n        this._renderSegments(this.rings.OUTER_SINGLE, this.beds, outerRadius, innerRadius);\n\n        innerRadius = outerRadius;\n        outerRadius = innerRadius + this.sizes.double;\n        this._renderSegments(this.rings.DOUBLE, this.beds, outerRadius, innerRadius);\n\n        innerRadius = this.board.radius - this.sizes.border;\n        outerRadius = this.board.radius;\n        this._renderBorders(this.rings.BORDER, this.beds, outerRadius, innerRadius);\n\n        sessionStorage.setItem(this.identifier, true);\n    }\n\n    _handleClick(event, bed)\n    {\n        const bedData = bed.data;\n        // // e = Mouse click event. = Mouse click event.\n        const rect = document.getElementsByClassName('c-Dartboard')[0].getBoundingClientRect();\n        const x = event.clientX - rect.left; // x position within the element.\n        const y = event.clientY - rect.top;  // y position within the element.\n\n        const points = bedData.frame * bedData.ring.multiplier;\n        const field = bedData.frame;\n        const fieldName = bedData.ring.abbr + bedData.frame;\n        const ring = bedData.ring.abbr;\n        const ringName = bedData.ring.name;\n\n        const hit = new Hit(x, y, points, field, fieldName, ring, ringName);\n\n        // console.log(hit);\n\n        // dartHit event\n        this._dispatchThrowEvent(hit);\n    }\n\n    _dispatchThrowEvent(hit)\n    {\n        this.board.container.dispatchEvent(new CustomEvent('dartHit',\n        {\n            detail: hit,\n        }));\n    }\n\n    _renderSegments(ring, beds, outerRadius, innerRadius)\n    {\n        const classname = `c-Dartboard-${ring.name}`;\n        const board = this.board;\n\n        const segments = board.svg.append('g')\n            .classed(classname, true)\n            .selectAll('arc')\n                .data(board.pie(this._addRingToBeds(ring, beds)))\n                .enter()\n                    .append('g')\n                        .attr('class', bed => `c-Dartboard-bed ${classname}--${bed.data.frame} is${bed.data.color} fade-in`)\n                        .attr('style', bed => `animation-delay:`+ (this._animate() ? (bed.data.position != undefined ? bed.data.position * 100 : 2000) : 0 ) +`ms;`)\n                        .on('click', (event, bed) => this._handleClick(event, bed))\n\n        segments.append('path').attr('d', d3.arc().outerRadius(outerRadius).innerRadius(innerRadius))\n    }\n\n    _renderBorders(ring, beds, outerRadius, innerRadius)\n    {\n        const borderArc = d3.arc().outerRadius(outerRadius).innerRadius(innerRadius);\n        const board = this.board;\n\n        const borderSegments = board.svg.append('g')\n            .classed('c-Dartboard-borders', true)\n            .selectAll('arc')\n                .data(board.pie(this._addRingToBeds(ring, beds)))\n                .enter()\n                    .append('g')\n                        .attr('class', bed => `c-Dartboard-border c-Dartboard-border--${bed.data.frame} fade-in`)\n                        .attr('style', bed => `animation-delay: `+ (this._animate() ? bed.data.position * 100 : 0 ) +`ms;`)\n                        .on('click', (event, bed) => this._handleClick(event, bed))\n        borderSegments.append('path').attr('d', borderArc)\n\n        var _determineRotation = (bedData) => {\n            return -this.board.rotation + (this.board.segmentWidth * (bedData.position - 1))\n        };\n        var determineX = (bed) => {\n            return borderArc.centroid(bed)[0]\n        }\n        var determineY = (bed) => {\n            return borderArc.centroid(bed)[1]\n        }\n\n        borderSegments.append('text')\n            .classed('c-Dartboard-borderLabel', true)\n            .attr('x', determineX)\n            .attr('y', determineY)\n            .attr('dy', '.35em')\n            // .attr('transform', bed => `rotate(${_determineRotation(bed.data)}, ${determineX(bed)}, ${determineY(bed)})`)\n            .attr('transform', bed => `rotate(9, ${determineX(bed)}, ${determineY(bed)})`)\n            .attr('text-anchor', 'middle')\n            .text(bed => bed.data.frame)\n    }\n\n    _createBoardSvg(board)\n    {\n        return board.element.append('svg')\n            .attr('width', board.width)\n            .attr('height', board.height)\n            .append('g')\n            .attr('transform', `translate(${board.radius}, ${board.radius}) rotate(${board.rotation})`)\n    }\n\n    _addRingToBeds(ring, beds)\n    {\n        const bedsWithRings = []\n        beds.forEach(bed => {\n            let bedWithRing = JSON.parse(JSON.stringify(bed))\n            bedWithRing.ring = ring\n            bedsWithRings.push(bedWithRing)\n        })\n\n        return bedsWithRings\n    }\n\n    _animate()\n    {\n        return sessionStorage.getItem(this.identifier) ? false : true;\n    }\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = (data = array(data)).length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","/**\n *\n *\n *\n */\nexport default class Throw\n{\n    constructor(set, leg, turn, throwNum, value, field, ring, x, y, radius)\n    {\n        this.set = set;\n        this.leg = leg;\n        this.turn = turn;\n        this.throwNum = throwNum;\n        this.value = value;\n        this.field = field;\n        this.ring = ring;\n        this.x = x - radius;\n        this.y = (y - radius) * -1; // JS Fuckery idk why only Y flips to a negative value\n        this.radius = radius; // only x_origin = y_origin, since a dartboard is always round\n\n        this.id = this._getId();\n\n        this.hasBeenSaved = false;\n        this.valid = true;\n\n        this.x_normalized = this._normalize(this.x);\n        this.y_normalized = this._normalize(this.y);\n    }\n\n    /**\n     * Rember: this returns raw polar coordinates. see factories for more information\n     *\n     * @param {boolean} normalized\n     * @returns\n     */\n    getPolarCoordinates(normalized = false)\n    {\n        const x = normalized ? this.x_normalized : this.x;\n        const y = normalized ? this.y_normalized : this.y;\n\n        const rad2deg = (rad) => rad * (180/Math.PI);\n\n        const radius = Math.sqrt(x*x + y*y);\n        const theta = Math.atan2(y,x);\n\n        return {\n            radius: radius,\n            theta: theta,\n            degrees: rad2deg(theta)\n        };\n    }\n\n    /**\n     *\n     *\n     * @param {boolean} normalized\n     * @returns\n     */\n    getCartesianCoordinates(normalized = false)\n    {\n        const x = normalized ? this.x_normalized : this.x;\n        const y = normalized ? this.y_normalized : this.y;\n\n        return {\n            x: x,\n            y: y,\n        };\n    }\n\n    /**\n     *\n     */\n    isValid()\n    {\n        return this.valid;\n    }\n\n    /**\n     *\n     */\n    saved()\n    {\n        this.hasBeenSaved = true;\n    }\n\n    /**\n     *\n     * @param {int} val x or y\n     * @returns\n     */\n    _normalize(val)\n    {\n        return val / this.radius;\n    }\n\n    /**\n     *\n     *\n     */\n    _getId()\n    {\n        return Throw.makeId(this.set, this.leg, this.turn, this.throwNum);\n    }\n\n    static makeId(set, leg, turn, throwNum)\n    {\n        let idParts = [\n            set,\n            leg,\n            turn,\n            throwNum,\n        ];\n\n        return idParts.join('-');\n    }\n}\n","import Throw from \"./throw\";\n\n/**\n *\n */\nexport default class Player\n{\n\n    constructor(id, name, fullName, pos = 0)\n    {\n        this.id = id;\n        this.name = name;\n        this.fullName = fullName;\n        this.pos = pos;\n        this.winningPosition = null;\n\n        this.throws = [];\n    }\n\n    addThrow(set, leg, turn, value, field, ring, x, y, radius)\n    {\n        let throwNum = this.getNextThrowNumber(set, leg, turn);\n\n        let newThrow = new Throw(set, leg, turn, throwNum, value, field, ring, x, y, radius);\n        this.throws.push(\n            newThrow\n        );\n\n        console.log('New Throw added:');\n        console.log(newThrow);\n        // console.log('Searched Throw:');\n        // console.log(this.getThrow(set, leg, turn, throwNum));\n        // console.log('ThrowsByTurn:');\n        // console.log(this.getThrowsByTurn(set, leg, turn));\n    }\n\n    getTotalPoints()\n    {\n        let totalPoints = 0;\n        this.throws.forEach(wurf => {\n            if(wurf.isValid())\n                totalPoints += wurf.value;\n        });\n\n        return totalPoints;\n    }\n\n    getNextThrowNumber(set, leg, turn)\n    {\n        let newThrowNumber = 1;\n        let lastThrow = this.throws.length > 0 ? this.getLastThrow() : {set: -1, leg: -1, turn: -1};\n\n        if(set == lastThrow.set && leg == lastThrow.leg && turn == lastThrow.turn) {\n            newThrowNumber = lastThrow.throwNum + 1;\n        }\n\n        return newThrowNumber;\n    }\n\n    getLastThrow()\n    {\n        return this.throws[this.throws.length - 1];\n    }\n\n    getLastValidThrow()\n    {\n        return this.throws.findLast(wurf => wurf.valid == true);\n    }\n\n    getThrow(set, leg, turn, throwNum)\n    {\n        let id = Throw.makeId(set, leg, turn, throwNum);\n        return this.throws.filter(wurf => wurf.id === id)[0];\n    }\n\n    getThrowsByTurn(set, leg, turn)\n    {\n        return this.throws.filter(wurf => wurf.set == set && wurf.leg == leg && wurf.turn == turn);\n    }\n\n    getThrowsByLeg(set, leg)\n    {\n        return this.throws.filter(wurf => wurf.set == set && wurf.leg == leg);\n    }\n\n    getThrowsBySet(set)\n    {\n        return this.throws.filter(wurf => wurf.set == set);\n    }\n\n    getTotalThrowCount()\n    {\n        return this.throws.length;\n    }\n\n    getAverage()\n    {\n        let sum = this.throws.reduce((total, t) => total + t.value, 0);\n        // console.log(sum);\n        return sum / this.getTotalThrowCount();\n    }\n\n    setThrowsByTurnSaved(set, leg, turn)\n    {\n        this.getThrowsByTurn(set, leg, turn).map( t => t.saved());\n        // this.getThrow(set, leg, turn, 1).saved();\n    }\n\n    removeThrowsByTurn(set, leg, turn)\n    {\n        let t = this.getThrowsByTurn(set, leg, turn);\n        t.forEach(w => {\n            w.valid = false;\n        });\n\n        this.throws = this.throws.filter(wurf => wurf.set == set && wurf.leg == leg && wurf.turn != turn);  // remove bad Throws\n        this.throws = this.throws.concat(t); // re-add them with valid = false\n    }\n\n    setWin(position)\n    {\n        this.winningPosition = position;\n    }\n\n    hasWon()\n    {\n        return this.winningPosition != null;\n    }\n}\n","import Player from './player';\n\n/**\n *\n */\nexport default class PlayerList\n{\n    players = [];\n\n    constructor(players = null)\n    {\n        this.isLocked = false;\n        this.pointer = -1;\n\n        if(players)\n            this.addBatch(players);\n    }\n\n    add(player)\n    {\n        if(this.isLocked)\n            return;\n\n        player.pos = this.players.length;\n\n        if(player instanceof Player) {\n            this.players.push(player);\n        } else {\n            let fullName = player.firstname +' '+ player.lastname;\n            this.players.push(new Player(player.id, player.name, fullName, player.pos));\n        }\n\n        console.log('Player Added to the List');\n\n        return this.players[this.players.length > 0 ? this.players.length-1 : 0];\n    }\n\n    addBatch(players)\n    {\n        if(this.isLocked)\n            return;\n\n        players.forEach(player =>\n        {\n            this.add(player);\n        });\n    }\n\n    remove(user)\n    {\n        if(this.isLocked)\n            return;\n\n        this.players = this.players.filter( player => player.id !== user.id );\n        return this;\n    }\n\n    getFirst()\n    {\n        this.pointer = 0;\n        return this._getPlayer();\n    }\n\n    getLast()\n    {\n        this.pointer = this.count() - 1;\n        return this._getPlayer();\n    }\n\n    next(skip = 0)\n    {\n        this._incrementPointerRollover(skip+1);\n        return this._getPlayer();\n    }\n\n    nextNonWinner()\n    {\n        for(let i = this.pointer-1; i <= this.count()-1; i++)\n            if(!this.next().hasWon())\n                return this._getPlayer();\n    }\n\n    previous(skip = 0)\n    {\n        this._decrementPointerRollover(skip+1);\n        return this._getPlayer();\n    }\n\n    count()\n    {\n        return this.players.length;\n    }\n\n    sortByPosition()\n    {\n        this.players?.sort((a, b) => (a.position > b.position ? 1 : -1))\n    }\n\n    getWinner()\n    {\n        return this.players.filter( player => player.hasWon() == true );\n    }\n\n    getNonWinner()\n    {\n        return this.players.filter( player => player.hasWon() == false );\n    }\n\n    lock()\n    {\n        this.isLocked = true;\n    }\n\n    unlock()\n    {\n        this.isLocked = false;\n    }\n\n    _incrementPointer(incrementBy = 1)\n    {\n        this.pointer = this.pointer+incrementBy > this.count()-1 ? this.count()-1 : this.pointer+incrementBy\n        return this.pointer;\n    }\n\n    _incrementPointerRollover(incrementBy = 1)\n    {\n        this.pointer = this.pointer+incrementBy > this.count()-1 ? 0 : this.pointer+incrementBy;\n        return this.pointer;\n    }\n\n    _decrementPointer(decrementBy = 1)\n    {\n        this.pointer = this.pointer-decrementBy < 0 ? 0 : this.pointer-decrementBy;\n        return this.pointer;\n    }\n\n    _decrementPointerRollover(decrementBy = 1)\n    {\n        this.pointer = this.pointer-decrementBy < 0 ? this.count()-1 : this.pointer-decrementBy;\n        return this.pointer;\n    }\n\n    _getPlayer()\n    {\n        return this.players[this.pointer];\n    }\n}\n","\n/**\n *\n *\n *\n */\nexport default class GameType\n{\n    static X01 = new GameType('X01');\n    static aroundTheClock = new GameType('aroundTheClock');\n    static cricket = new GameType('cricket');\n    static unkown = new GameType('unkown');\n\n    constructor(name)\n    {\n        this.name = name;\n    }\n\n    toString()\n    {\n        return this.name;\n    }\n\n    static fromString(string)\n    {\n        if(string === 'X01') {\n            return GameType.X01;\n        } else if(string === 'aroundTheClock') {\n            return GameType.aroundTheClock;\n        } else if(string === 'cricket') {\n            return GameType.cricket;\n        } else {\n            console.error('Unkown GameType: ' + string);\n            return GameType.unkown;\n        }\n    }\n\n}\n","\n/**\n *\n *\n *\n */\nexport default class GameSettings\n{\n\n    constructor()\n    {\n        this.maxSets = 1;\n        this.maxLegsPerSet = 1;\n        this.maxTurnsPerLeg = 100;\n        this.maxThrowsPerTurn = 3;\n\n        this.maxPlayers = 4;\n\n        this.apiBasePath = '/api/v1';\n    }\n}\n","import { thresholdFreedmanDiaconis } from \"d3\";\nimport GameType from \"./enums/gameType\";\nimport GameSettings from \"./gameSettings\";\nimport PlayerList from \"./playerList\";\n\n/**\n *\n *\n *\n */\nexport default class Game\n{\n    constructor()\n    {\n        this.id = null;\n        this.users = null;\n        this.createdBy = null;\n        this.type = null;\n        this.status = null;\n        this.private = false;\n\n        this.title = null;\n        this.comment = null;\n\n        this.points = undefined;\n        this.start = undefined;\n        this.end = undefined;\n        this.fields = undefined;\n\n        this.singleOut = true;\n        this.doubleOut = true;\n        this.trippleOut = true;\n        this.singleIn = true;\n        this.doubleIn = true;\n        this.trippleIn = true;\n\n        this.currentSet = 1;\n        this.currentLeg = 1;\n        this.currentTurn = 1;\n        this.currentThrow = 1;\n        this.currentPlayer = null;\n\n        this.winCounter = 1;\n\n        this.dartboardSize = null;\n\n        this.settings = new GameSettings();\n\n        this._init();\n    }\n\n    nextTurn(reset = false)\n    {\n        this._saveTurn();\n        this.currentTurn = reset ? 0 : this.currentTurn + 1;\n        this._dispatchEvent('dartClearBoard', []);\n        this.nextPlayer();\n\n        console.log('Next Turn');\n    }\n\n    nextLeg(reset = false)\n    {\n        this.nextTurn(true)\n        this.currentLeg = reset ? 0 : this.currentLeg + 1;\n    }\n\n    nextSet()\n    {\n        this.nextLeg(true)\n        this.currentSet++;\n    }\n\n    nextPlayer()\n    {\n        this.currentPlayer = this.users.nextNonWinner();\n\n        if(this.users.getNonWinner().length <= 1)\n            console.log();\n\n        this._dispatchEvent('dartClearBoard', []);\n        this.currentThrow = 0;\n        // console.log('Next player: '+ this.currentPlayer.fullName);\n    }\n\n    currentPlayerWon()\n    {\n        console.warn('Player won!');\n        this.currentPlayer.setWin(this.winCounter);\n        this._savePlayerWon();\n        this.winCounter++;\n        if(this.winCounter >= this.users.count()) {\n            console.log('Game done. every one got a place');\n            this._saveTurn();\n            if(this.users.getNonWinner().length >= 1) {\n                this._nextPlayer();\n                this._savePlayerWon();\n            }\n\n            this._done();   // bailout / exit\n        } else {\n            if(this.detectNextTurn(false)) {\n                this._nextTurn();\n            } else {\n                this._nextPlayer();\n            }\n        }\n    }\n\n    currentPlayerResetTurn()\n    {\n        // API call to soft delete throws\n        // console.warn('The last Turn of the player to removed');\n        this.currentPlayer.removeThrowsByTurn(this.currentSet, this.currentLeg, this.currentTurn);\n\n        if(this.detectNextTurn(false)) {\n            this._nextTurn();\n        } else {\n            this._nextPlayer();\n        }\n    }\n\n    addThrow(points, fieldName, ringName, x, y)\n    {\n        this.currentPlayer.addThrow(this.currentSet, this.currentLeg, this.currentTurn, points, fieldName, ringName, x, y, this.dartboardSize/2);\n        this.currentThrow++;\n    }\n\n    detectNextPlayer()\n    {\n        // return this.currentPlayer.getNextThrowNumber(this.currentSet, this.currentLeg, this.currentTurn) > this.settings.maxThrowsPerTurn;\n        return this.currentThrow+1 > this.settings.maxThrowsPerTurn;\n    }\n\n    detectNextTurn(detectNextPlayer = true)\n    {\n        if(detectNextPlayer) {\n            return ((this.currentPlayer.pos+1 > this.users.count()-1) || (this.winCounter >= this.users.count())) && this.detectNextPlayer();\n        } else {\n            return (this.currentPlayer.pos+1 > this.users.count()-1) || (this.winCounter >= this.users.count());\n        }\n    }\n\n    detectNextLeg()\n    {\n        return false;\n    }\n\n    detectNextSet()\n    {\n        return false;\n    }\n\n    async _saveTurn()\n    {\n        console.log('Saving Turn.');\n\n        // send to api and or local session storage\n        let data = [];\n\n        this.users.players.forEach( user => {\n            user.getThrowsByTurn(this.currentSet, this.currentLeg, this.currentTurn).forEach( wurf => {\n                let ThrowData = {\n                    game: this.id,\n                    user: user.id,\n                    set: wurf.set,\n                    leg: wurf.leg,\n                    turn: wurf.turn,\n                    throw: wurf.throwNum,\n                    value: wurf.value,\n                    field: wurf.field,\n                    ring: wurf.ring,\n                    x: wurf.x_normalized,\n                    y: wurf.y_normalized,\n                    origin_type: 'DARTBOARD',\n                    valid: wurf.valid,\n                }\n\n                data.push(ThrowData);\n            });\n        });\n\n        let result = await axios.post('/api/v1/throw', data).then( response => {\n            let data = response.data.data;\n            this._dispatchEvent('dartTurnSaved', {\n                set: data.currentSet,\n                leg: data.currentLeg,\n                turn: data.currentTurn,\n            });\n        }).catch(function (error) {\n            if (error.response) {\n                console.log(error.response.data);\n                console.error('Throws could not get saved!');\n            }\n        });\n    }\n\n    _init()\n    {\n        console.info('<========== Initalising DartGame ==========>');\n        this.id = document.getElementById('gameId').getAttribute('value');\n\n        let details = this._fetchDetails().game;\n\n        this.users = new PlayerList(details.users);\n        this.users.lock();\n        // console.log(this.users);\n\n        this.createdBy = details.created_by.firstname +' '+ details.created_by.lastname;\n        this.type = GameType.fromString(details.type);\n        this.status = details.status;\n        this.private = details.private;\n\n        this.title = details.title;\n        this.comment = details.comment;\n\n        if(details.points)\n            this.points = details.points;\n\n        if(details.start)\n            this.start = details.start;\n\n        if(details.end)\n            this.end = details.end;\n\n        if(details.fields)\n            this.fields = details.fields;\n\n        this.singleOut = details.singleOut;\n        this.doubleOut = details.doubleOut;\n        this.trippleOut = details.trippleOut;\n        this.singleIn = details.singleIn;\n        this.doubleIn = details.doubleIn;\n        this.trippleIn = details.trippleIn;\n\n        this.nextPlayer();\n\n        document.addEventListener('dartTurnSaved', h =>\n        {\n            let data = h.detail;\n            // console.log(data);\n\n            this.users.getFirst().setThrowsByTurnSaved(data.set, data.leg, data.turn);\n            // console.log(this.users.getFirst().getThrowsByTurn(data.set, data.leg, data.turn));\n        });\n    }\n\n\n    _done()\n    {\n        this._changeStatus('DONE');\n        location.reload();\n    }\n\n    _savePlayerWon()\n    {\n        var result = $.ajax({\n            url: this.settings.apiBasePath+'/dart/updatePlace/'+this.id+'/'+this.currentPlayer.id,\n            type: 'PUT',\n            async: false,\n            headers: {\n                'X-CSRF-TOKEN': document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content'),\n            },\n            data: {\n                place: this.winCounter,\n            },\n            success: function (data)\n            {\n                return data.data;\n            },\n            error: function (xhr, exception) {\n                console.error(xhr);\n                return null;\n            }\n        });\n        // console.log(result);\n    }\n\n    _changeStatus(status = null)\n    {\n        if(status)\n            var result = $.ajax({\n                url: this.settings.apiBasePath+'/dart/'+this.id,\n                type: 'PUT',\n                async: false,\n                headers: {\n                    'X-CSRF-TOKEN': document.querySelector('meta[name=\"csrf-token\"]').getAttribute('content'),\n                },\n                data: {\n                    status: status,\n                },\n                success: function (data)\n                {\n                    return data.data;\n                },\n                error: function (xhr, exception) {\n                    console.error(xhr);\n                    return null;\n                }\n            });\n        // console.log(result);\n    }\n\n    _fetchDetails()\n    {\n        // let result = await axios({\n        //     method: 'get',\n        //     url: '/api/v1/dart/'+this.id,\n        // }).data;\n\n        let result = $.ajax({\n            url: this.settings.apiBasePath+'/dart/'+this.id,\n            type: 'GET',\n            async: false,\n            success: function (data)\n            {\n                return data.data;\n            },\n            error: function (xhr, exception) {\n                var msg = \"\";\n                if (xhr.status === 0) {\n                    msg = \"Not connect.\\n Verify Network.\" + xhr.responseText;\n                } else if (xhr.status == 404) {\n                    msg = \"Requested page not found. [404]\" + xhr.responseText;\n                } else if (xhr.status == 500) {\n                    msg = \"Internal Server Error [500].\" +  xhr.responseText;\n                } else if (exception === \"parsererror\") {\n                    msg = \"Requested JSON parse failed.\";\n                } else if (exception === \"timeout\") {\n                    msg = \"Time out error.\" + xhr.responseText;\n                } else if (exception === \"abort\") {\n                    msg = \"Ajax request aborted.\";\n                } else {\n                    msg = \"Error:\" + xhr.status + \" \" + xhr.responseText;\n                }\n\n                console.error(msg);\n                return null;\n            }\n        });\n\n        return result.responseJSON.data;\n    }\n\n    _dispatchEvent(eventName, content)\n    {\n        document.dispatchEvent(new CustomEvent(eventName, {\n            detail: content,\n        }));\n    }\n}\n","import Game from \"./game\";\nimport GameType from \"./enums/gameType\";\nimport Throw from \"./throw\";\n\n/**\n *\n *\n *\n */\nexport default class GameX01 extends Game\n{\n\n    constructor()\n    {\n        super();\n        if(this.type != GameType.X01)\n            console.error('Something is wrong. Please check the gametype!');\n\n        console.info('X01 Game variant.');\n        // console.log(this.users);\n\n        // this.throw = new Throw(1, 360, 180, 360/2);\n        // console.log(this.throw.getCartesianCoordinates(true));\n\n        // console.log(this.users.next());\n    }\n\n    run()\n    {\n        this._show();\n        // this._checkWin();\n\n        if (this._remainingPlayerPoints() == 0) {\n            this._currentPlayerWon();\n\n        } else if(this._remainingPlayerPoints() < 0) {\n            super.currentPlayerResetTurn();\n\n        } else {\n            if(this.detectNextTurn()) {\n                this._nextTurn();\n            } else if(this.detectNextPlayer()) {\n                this._nextPlayer();\n            }\n        }\n\n    }\n\n    addThrow(points, fieldName, ringName, x, y)\n    {\n        super.addThrow(points, fieldName, ringName, x, y);\n        // console.log(this._remainingPlayerPoints());\n    }\n\n    _show()\n    {\n        let playerCard = document.querySelector(`[data-user-id='${this.currentPlayer.id}']`);\n        let throwDisplays = [];\n        for(let i = 1; i <= this.settings.maxThrowsPerTurn; i++) {\n            throwDisplays.push(playerCard.querySelector('.throw-'+i));\n        }\n\n        let lastThrow = this.currentPlayer.getLastThrow();\n        if(!lastThrow)\n            return;\n\n        let throwDisplay = playerCard.querySelector('.throw-'+lastThrow.throwNum);\n        throwDisplay.innerHTML = lastThrow.value;\n\n        let totalDisplay = playerCard.querySelector('.total');\n        totalDisplay.innerHTML = this._remainingPlayerPoints();\n\n        if(lastThrow.throwNum == this.settings.maxThrowsPerTurn) {\n            let total = 0;\n            let turnTotalDisplay = playerCard.querySelector('.turn-total');\n\n            this.currentPlayer.getThrowsByTurn(this.currentSet, this.currentLeg, this.currentTurn).forEach(wurf => {\n                total += wurf.value;\n            });\n\n            turnTotalDisplay.innerHTML = total;\n        }\n\n        // clear display\n        let isNextTurn = this.detectNextTurn();\n        if(isNextTurn)\n            this._clearDisplay();\n\n        let isNextUser = this.detectNextPlayer();\n        if(isNextUser) {\n            let avgDisplay = playerCard.querySelector('.avg');\n            avgDisplay.innerHTML = (this.currentPlayer.getAverage()).toFixed(2);\n        }\n    }\n\n    _currentPlayerWon()\n    {\n        let playerCard = document.querySelector(`[data-user-id='${this.currentPlayer.id}']`);\n        playerCard.classList.remove('text-bg-secondary');\n        playerCard.classList.add('text-bg-success');\n\n        let cardBody = playerCard.querySelector('.card-body');\n        cardBody.innerHTML = '';\n\n        let row = () => {\n            let el = document.createElement('div');\n            el.classList.add('row', 'justify-center');\n            return el;\n        };\n\n        let col = (auto = false) => {\n            let el = document.createElement('div');\n            el.classList.add(auto ? 'col-auto' : 'col' , 'd-flex', 'justify-center');\n            return el;\n        };\n\n        let topRow = row();\n        let topCol = col(true);\n        let h4 = document.createElement('h4');\n        h4.innerHTML = `${this.currentPlayer.fullName} has won.`;\n        topCol.appendChild(h4);\n        topRow.appendChild(topCol);\n\n        let middleRow = row();\n        let mLeftCol = col();\n        let mRightCol = col();\n        let aText = document.createElement('p');\n        aText.innerHTML = 'used Throws: '+ this.currentPlayer.getTotalThrowCount();\n        let bText = document.createElement('p');\n        bText.innerHTML = 'Average: '+ this.currentPlayer.getAverage();\n        mLeftCol.appendChild(aText);\n        mRightCol.appendChild(bText);\n        middleRow.appendChild(mRightCol);\n        middleRow.appendChild(mLeftCol);\n\n        let bottomRow = row();\n        let bLeftCol = col(true);\n        bLeftCol.innerHTML = 'Platz '+ this.winCounter;\n        bottomRow.appendChild(bLeftCol);\n\n        cardBody.appendChild(topRow);\n        cardBody.appendChild(middleRow);\n        cardBody.appendChild(bottomRow);\n\n        super.currentPlayerWon();\n    }\n\n    _clearDisplay()\n    {\n        this.users.getNonWinner().forEach(user => {\n            let playerCard = document.querySelector(`[data-user-id='${user.id}']`);\n\n            let totalDisplay = playerCard.querySelector('.total');\n            totalDisplay.innerHTML = this.points - user.getTotalPoints();\n\n            for(let i = 1; i <= this.settings.maxThrowsPerTurn; i++) {\n                playerCard.querySelector('.throw-'+i).innerHTML = '<i class=\"fa-solid fa-xmark text-danger\"></i>';\n            }\n            playerCard.querySelector('.turn-total').innerHTML = 0;\n        });\n    }\n\n    _nextPlayer()\n    {\n        this._deselectPlayer();\n        super.nextPlayer();\n        this._selectPlayer();\n    }\n\n    _nextTurn()\n    {\n        this._clearDisplay();\n        this._deselectPlayer();\n        super.nextTurn();\n        this._selectPlayer();\n    }\n\n    _selectPlayer()\n    {\n        let playerCard = document.querySelector(`[data-user-id='${this.currentPlayer.id}']`);\n        playerCard.classList.add('text-bg-secondary');\n    }\n\n    _deselectPlayer()\n    {\n        let playerCard = document.querySelector(`[data-user-id='${this.currentPlayer.id}']`);\n        playerCard.classList.remove('text-bg-secondary');\n    }\n\n    _remainingPlayerPoints()\n    {\n        return this.points - this.currentPlayer.getTotalPoints();\n    }\n}\n","/**\n * @author Maximilian Mewes\n *\n *\n */\n\nimport * as UTILS from '../utils';\nimport Dartboard from './dartboard';\nimport PlayerList from './playerList';\nimport Game from \"./game\";\nimport GameX01 from \"./gameX01\";\n\n/**\n * Singleton Dart entry class\n *\n */\nexport default class Dart\n{\n    constructor(boardContainer = null)\n    {\n        if(Dart.instance)\n            return Dart.instance;\n\n        Dart.instance = this;\n\n        this.boardContainer = boardContainer;\n        this.playerList = new PlayerList();\n\n        this.initialized = false;\n    }\n\n    init()\n    {\n        if(this.initialized)\n            return;\n\n        // console.log('Dart initializing');\n\n        this.dartboard = new Dartboard(this.boardContainer);\n        this.dartboard.render();\n        this.playerList.lock();\n        this.playerList.sortByPosition();\n\n        // https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage?retiredLocale=de#saving_text_between_refreshes\n\n        let t = document.getElementById('gameType').getAttribute('value');\n        if(t == 'X01') {\n            this.game = new GameX01();\n        } else if(t == 'aroundTheClock') {\n            // this.game = new GameAroundTheClock();\n            this.game = null;\n        } else if(t == 'cricket') {\n            // this.game = new GameCricket();\n        }\n\n        // needs better error handling\n        if(!this.game instanceof Game)\n            console.error('GameType is unkown.');\n\n        this.game.dartboardSize = this.dartboard.board.width;\n        // this.game.run();\n\n        this.addListeners();\n\n        this.initialized = true;\n    }\n\n    addListeners()\n    {\n        document.querySelector(this.boardContainer).addEventListener('dartHit', h =>\n        {\n            const hit = h.detail;\n            this._placeHitMarker(hit);\n            this.game.addThrow(hit.points, hit.field, hit.ring, hit.x, hit.y);\n            this.game.run();\n        });\n\n        document.addEventListener('dartClearBoard', h =>\n        {\n            this._clearHitMarker();\n        });\n    }\n\n    _placeHitMarker(hit)\n    {\n        let hitMarker = document.createElement(\"i\");\n        // let hitMarker = document.createElement('img');\n        // hitMarker.setAttribute('src', '/img/dart-arrow.svg');\n        hitMarker.classList.add('hitMarker');\n        // hitMarker.classList.add('fa-solid', 'fa-location-pin');\n\n        let topPosition = hit.y - (8/2); // center hitMarker on cursor tip\n        let leftPosition = hit.x - (8/2); // center hitMarker on cursor tip\n\n        hitMarker.style.setProperty(\"top\", topPosition+\"px\");\n        hitMarker.style.setProperty(\"left\", leftPosition+\"px\");\n        // console.log(UTILS.cartesian2Polar(hit.x-200, hit.y-200));\n\n        // console.log('hit placed');\n\n        document.getElementsByClassName('c-Dartboard')[0].append(hitMarker);\n\n        return hitMarker;\n    }\n\n    _clearHitMarker()\n    {\n        let hitMarkers = document.querySelectorAll('.hitMarker');\n        // console.log(hitMarkers);\n\n        hitMarkers.forEach( marker => marker.remove() );\n    }\n}\n","/**\n * @author Maximilian Mewes\n *\n *\n */\n\nimport * as UTILS from './utils';\nimport Dart from './dart/dart.js';\nimport NoSleep from 'nosleep.js';\n\n$(function()\n{\n    var noSleepToggle = false;\n    var noSleep = new NoSleep();\n    // let clrRatio = new UTILS.CRGB(255, 255, 255).contrastRatio(new UTILS.CRGB(0, 90, 90));\n    // console.log(clrRatio);\n\n    var dartGame = new Dart('#dartboard');\n    dartGame.init();\n\n    document.querySelector('#keepOn').addEventListener('click', e =>\n    {\n        if(noSleepToggle) {\n            noSleepToggle = false;\n            noSleep.disable();\n            console.warn('NoSleep disabled.');\n            e.target.classList.remove('btn-successbtn-danger');\n            e.target.classList.add('btn-danger');\n        } else {\n            noSleepToggle = true;\n            noSleep.enable();\n            console.warn('NoSleep enabled.');\n            e.target.classList.remove('btn-danger');\n            e.target.classList.add('btn-success');\n        }\n    });\n\n});\n"],"names":["webm","mp4","oldIOS","navigator","parseFloat","exec","userAgent","replace","window","MSStream","nativeWakeLock","module","exports","constructor","this","enabled","_wakeLock","handleVisibilityChange","document","visibilityState","enable","addEventListener","noSleepTimer","noSleepVideo","createElement","setAttribute","_addSourceToVideo","duration","currentTime","Math","random","element","type","dataURI","source","src","appendChild","isEnabled","wakeLock","request","then","console","log","catch","err","error","name","message","disable","warn","setInterval","hidden","location","href","split","setTimeout","stop","Promise","resolve","play","res","release","clearInterval","pause","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","LuxonError","Error","ZoneIsAbstractError","super","ianaName","isUniversal","offsetName","ts","opts","formatOffset","format","offset","equals","otherZone","isValid","dtfCache","typeToPos","year","month","day","era","hour","minute","second","ianaZoneCache","static","s","isValidZone","zone","Intl","DateTimeFormat","timeZone","e","zoneName","valid","locale","offsetFormat","date","Date","intlOpts","hourCycle","modified","timeZoneName","parsed","formatToParts","find","m","toLowerCase","value","isNaN","NaN","dtf","hour12","adOrBc","formatted","filled","i","length","pos","parseInt","partsOffset","fMonth","fDay","fYear","fadOrBc","fHour","fMinute","fSecond","hackyOffset","abs","asUTC","UTC","millisecond","setUTCFullYear","getUTCFullYear","asTS","over","utcInstance","r","match","fixed","input","padded","padStart","string","fraction","f","floor","offHourStr","offMinuteStr","offHour","Number","offMin","is","hours","trunc","minutes","sign","RangeError","ianaRegex","combineRegexes","regexes","full","reduce","RegExp","combineExtractors","extractors","mergedVals","mergedZone","cursor","ex","val","next","slice","simpleParse","keys","ret","offsetRegex","isoTimeBaseRegex","isoTimeRegex","isoTimeExtensionRegex","extractISOWeekData","extractISOOrdinalData","sqlTimeRegex","sqlTimeExtensionRegex","fallback","extractISOTime","seconds","milliseconds","extractISOOffset","local","fullOffset","extractIANAZone","lowOrderMatrix","weeks","days","daysInYearAccurate","daysInMonthAccurate","orderedUnits","reverse","numberingSystems","arab","arabext","bali","beng","deva","fullwide","gujr","hanidec","khmr","knda","laoo","limb","mlym","mong","mymr","orya","tamldec","telu","thai","tibt","latn","spaceOrNBSP","String","fromCharCode","now","asPercent","number","toFixed","none","selector","querySelector","array","x","Array","isArray","from","empty","querySelectorAll","matches","childMatcher","node","childFirst","firstElementChild","filter","children","update","EnterNode","parent","datum","ownerDocument","namespaceURI","_next","_parent","__data__","bindIndex","group","enter","exit","data","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","Map","keyValues","has","set","delete","arraylike","ascending","b","child","insertBefore","xhtml","svg","xlink","xml","xmlns","prefix","indexOf","namespaces","space","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","attrConstant","attrConstantNS","setAttributeNS","attrFunction","v","apply","arguments","attrFunctionNS","defaultView","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","trim","classList","ClassList","_node","_names","getAttribute","classedAdd","names","list","add","classedRemove","remove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","parentNode","lower","previousSibling","firstChild","creatorInherit","uri","documentElement","createElementNS","creatorFixed","namespace","constantNull","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","parseTypenames","typenames","map","t","onRemove","typename","on","__on","j","removeEventListener","listener","options","onAdd","event","contextListener","push","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","join","splice","contains","root","Selection","groups","parents","_groups","_parents","selection","select","subgroups","subnode","subgroup","selectAll","arrayAll","selectorAll","selectChild","childFind","selectChildren","childrenFilter","matcher","bind","enterGroup","updateGroup","exitGroup","previous","i0","i1","_enter","_exit","sparse","onenter","onupdate","onexit","append","merge","order","context","groups0","groups1","m0","m1","min","merges","group0","group1","compareDocumentPosition","sort","compare","compareNode","sortgroups","sortgroup","callback","nodes","size","each","attr","getAttributeNS","property","classed","text","html","create","creator","insert","before","deep","dispatch","Symbol","iterator","noop","_","test","Dispatch","types","c","concat","T","copy","that","args","taskHead","taskTail","timeout","interval","clockLast","clockNow","clockSkew","clock","performance","setFrame","requestAnimationFrame","clearNow","Timer","_call","_time","timer","delay","time","restart","wake","timerFlush","t0","t2","t1","Infinity","sleep","nap","poke","clearTimeout","elapsed","TypeError","emptyOn","emptyTween","id","index","timing","schedules","__transition","self","tween","schedule","state","start","tick","ease","init","svgNode","degrees","PI","translateX","translateY","rotate","skewX","scaleX","scaleY","sqrt","atan2","atan","interpolateTransform","parse","pxComma","pxParen","degParen","pop","q","xa","ya","xb","yb","translate","scale","interpolateTransformCss","DOMMatrix","WebKitCSSMatrix","isIdentity","decompose","interpolateTransformSvg","transform","baseVal","consolidate","matrix","tweenRemove","tween0","tween1","tweenFunction","tweenValue","transition","_id","factory","extend","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","l","rgbn","Rgb","rgba","hsla","g","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatRgb","clampa","clampi","max","round","toString","h","Hsl","hslConvert","clamph","clampt","hsl2rgb","m2","basis","v0","v1","v2","v3","t3","channels","assign","displayable","formatHex8","formatHsl","k","pow","clamp","linear","gamma","y","nogamma","exponential","rgbGamma","end","rgbSpline","spline","colors","values","reA","reB","am","bm","bs","bi","lastIndex","one","zero","interpolate","value1","string00","interpolate0","string1","string0","string10","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","on0","on1","sit","every","styleInterpolate","styleTween","textInterpolate","textTween","Transition","_name","newId","selection_prototype","inherit","id0","id1","styleNull","listener0","styleMaybeRemove","removeFunction","easeVarying","reject","cancel","interrupt","defaultTiming","active","number1","number2","cos","sin","epsilon","pi","halfPi","tau","acos","asin","tauEpsilon","strings","Path","digits","_x0","_y0","_x1","_y1","_append","appendRound","moveTo","closePath","lineTo","quadraticCurveTo","x1","y1","bezierCurveTo","x2","y2","arcTo","x0","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","t01","t21","arc","a0","a1","ccw","dx","dy","cw","da","rect","w","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","intersect","x3","y3","x10","y10","x32","y32","cornerTangents","r1","rc","lo","ox","oy","x11","y11","x00","y00","d2","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","cornerRadius","padRadius","path","shape","withPath","buffer","r0","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","p0","p1","oc","ax","ay","bx","by","kc","lc","centroid","point","applyX","applyY","invert","invertX","invertY","rescaleX","domain","range","rescaleY","Hit","points","field","fieldName","ring","ringName","Dartboard","containerSelector","identifier","getElementById","borderPercent","doublePercent","outerSinglePercent","triplePercent","innerSinglePercent","outerBullPercent","innerBullPercent","rings","BORDER","abbr","multiplier","DOUBLE","OUTER_SINGLE","TRIPLE","INNER_SINGLE","OUTER_BULL","INNER_BULL","beds","frame","position","boardContainer","board","container","d3","width","offsetHeight","offsetWidth","segmentWidth","height","radius","rotation","_createBoardSvg","sizes","border","UTILS","double","outerSingle","triple","innerSingle","outerBull","innerBull","skeletonDartboard","pie","sortValues","descending","sum","arcs","p","pa","_renderSegments","_renderBorders","sessionStorage","setItem","bed","bedData","getElementsByClassName","getBoundingClientRect","clientX","left","clientY","top","hit","_dispatchThrowEvent","classname","_addRingToBeds","_animate","_handleClick","borderArc","borderSegments","determineX","determineY","bedsWithRings","forEach","bedWithRing","JSON","stringify","getItem","Throw","leg","turn","throwNum","_getId","hasBeenSaved","x_normalized","_normalize","y_normalized","normalized","rad2deg","rad","theta","makeId","Player","fullName","winningPosition","getNextThrowNumber","newThrow","totalPoints","wurf","newThrowNumber","lastThrow","getLastThrow","findLast","total","getTotalThrowCount","getThrowsByTurn","saved","PlayerList","players","isLocked","pointer","addBatch","player","firstname","lastname","user","_getPlayer","count","skip","_incrementPointerRollover","hasWon","_decrementPointerRollover","incrementBy","decrementBy","GameType","X01","aroundTheClock","cricket","unkown","GameSettings","maxSets","maxLegsPerSet","maxTurnsPerLeg","maxThrowsPerTurn","maxPlayers","apiBasePath","Game","users","createdBy","status","title","comment","fields","singleOut","doubleOut","trippleOut","singleIn","doubleIn","trippleIn","currentSet","currentLeg","currentTurn","currentThrow","currentPlayer","winCounter","dartboardSize","settings","_init","reset","_saveTurn","_dispatchEvent","nextPlayer","nextTurn","nextLeg","nextNonWinner","getNonWinner","setWin","_savePlayerWon","_nextPlayer","_done","detectNextTurn","_nextTurn","removeThrowsByTurn","addThrow","detectNextPlayer","ThrowData","game","throw","origin_type","axios","post","response","info","details","_fetchDetails","lock","created_by","fromString","getFirst","setThrowsByTurnSaved","_changeStatus","reload","$","ajax","url","async","headers","place","success","xhr","exception","result","msg","responseText","responseJSON","eventName","content","GameX01","_show","_remainingPlayerPoints","_currentPlayerWon","playerCard","throwDisplays","turnTotalDisplay","_clearDisplay","getAverage","cardBody","row","el","col","auto","topRow","topCol","h4","middleRow","mLeftCol","mRightCol","aText","bText","bottomRow","bLeftCol","getTotalPoints","_deselectPlayer","_selectPlayer","Dart","instance","playerList","initialized","dartboard","render","sortByPosition","addListeners","_placeHitMarker","run","_clearHitMarker","hitMarker","topPosition","leftPosition","marker","noSleepToggle","noSleep","NoSleep","target"],"sourceRoot":""}